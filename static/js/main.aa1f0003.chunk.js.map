{"version":3,"sources":["config/firebase.config.js","Constants/constants.js","services/firebase.js","services/useAuth.js","components/Navbar.jsx","Constants/gFunctions.js","services/useGlobals.js","services/useTask.js","components/TaskRow.js","components/TaskList.jsx","components/DateAndTimeSelector.js","components/FormButtons.js","components/DropDown.js","components/TaskForm.jsx","components/ProjectForm.js","components/DefaultProjectList.js","components/ProjectList.js","services/Seo.js","components/TaskDetail.js","components/HomePage.js","components/Toggler.jsx","components/Settings.jsx","App.jsx","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAnalytics","defaultDueDate","tagCategory","selectPriority","priority","value","display_name","key","defaultProjectIds","defaultProjectDetails","title","description","archived","defaultProjects","id","db","getFirestore","checkIfUserExists","userId","a","result","q","query","doc","getDoc","exists","addUser","user","newUser","displayName","email","photoURL","emailVerified","uid","setDoc","console","log","createDefaultProject","_project","gC","timestamp","serverTimestamp","addDoc","collection","updateDoc","defaultProjectId","authContext","createContext","useAuth","useContext","AuthContextProvider","children","auth","useState","setUser","getAuth","signIn","provider","GoogleAuthProvider","signInWithPopup","then","credential","credentialFromResult","token","accessToken","_user","_setUpFIrstTimeUser","catch","error","errorCode","code","errorMessage","message","credentialFromError","signOut","firebase","currentUser","onAuthStateChanged","useAuthProvider","Provider","Navbar","burgerMenu","useRef","navbarMain","profileDropdown","toggleBurgerMenu","current","classList","toggle","className","role","to","onClick","ref","src","alt","getNextDayTimeStamp","Date","moment","add","setHours","getTime","getPrevDayTimeStamp","glbalContext","useGlobals","GlobalContextProvider","global","taskDetailActivated","setTaskDetailActivated","showArchived","setShowArchived","showCompleted","setShowCompleted","detailTask","setDetailTask","activateTaskDetailModal","task","deactivateTaskDetailModal","useGlobalProvider","taskContext","useTask","TaskContextProvider","reloadDelay","globals","projects","setProjects","currentProject","setCurrentProject","tasks","setTasks","reloadTaskFlag","setReloadTaskFlag","reloadProjects","setReloadProjects","setDefaultProjects","reloadDefaultTasks","setReloadDefaultTasks","setDefaultProjectId","addTask","_newTask","dueDate","project","forEach","pId","toString","trim","taskRef","newTask","updateTask","taskId","updatedTask","deleteTask","merge","addProject","projectRef","newProject","deleteProject","data","updateProject","updatedProject","updateRef","changeCurrentProject","changeTaskStatus","status","completed","useEffect","timer","getProjects","fs","defaultProjectQuery","snap","_defaultProjectId","where","getDocs","_projects","_defaultProjects","push","setTimeout","clearInterval","_getTasks","find","_tasks","_task","toDate","collectionGroup","gF","useTaskProvider","TaskRow","store","style","paddingTop","paddinBottom","subtract","selectClassName","calendar","mapTaskTable","organizedTaskLists","TaskTable","separator","length","element","map","TaskList","taskTable","setTaskTable","_taskTable","taskList","sortOrder","i","taskListObj","format","startDate","endDate","filter","mapTaskByDueDate","priorityList","sort","p1","p2","index","p","parseInt","mapTasksbyPriority","DateAndTimeSelector","dateTime","setDateTime","activated","setActivated","tempDateTime","setTempDateTime","type","onChange","e","target","handleDateChange","timeDetail","split","handleTimeChange","constants","FormButtons","button1Click","button1Text","button2Click","button2Text","DropDown","initialValue","handleValueChange","dropDownOptions","TaskForm","setTitle","titleError","setTitleError","setDueDate","setDescription","setPriority","tagList","setTagList","validateInput","resetForm","handleTitleChange","input","tempTagList","r_today","r_tomorrow","category","test","tag","handleTagDelete","text","processText","tagId","findIndex","splice","placeholder","onFocus","rows","ProjectForm","handleAddProject","name","DefaultProjectList","handleProjectClick","ProjectList","handleChangeProject","Seo","Helmet","content","crossorigin","TaskDetail","customDueDate","setCustomDueDate","handleCancel","HomePage","HomePageFront","justifyContent","Toggler","togglerOn","setTogglerOn","Settings","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa1f0003.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB7UTq-y1DjPb0UuNJ83ZLnE81Ht405OQI\",\r\n  authDomain: \"todo-karma.firebaseapp.com\",\r\n  projectId: \"todo-karma\",\r\n  storageBucket: \"todo-karma.appspot.com\",\r\n  messagingSenderId: \"757248016606\",\r\n  appId: \"1:757248016606:web:60058f2edc4c08c1b5824f\",\r\n  measurementId: \"G-07LN1JMQ97\",\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const analytics = getAnalytics(app);\r\n","export const defaultDueDate = \"1970-01-01T00:00:00.000Z\";\r\nexport const tagCategory = {\r\n  datetime: \"datetime\",\r\n  projects: \"projects\",\r\n};\r\n\r\nexport const selectPriority = [\r\n  {\r\n    priority: \"select priority\",\r\n    value: 1,\r\n    display_name: \"For later\",\r\n    key: 1,\r\n  },\r\n  {\r\n    priority: \"p5 Urgent\",\r\n    value: 5,\r\n    display_name: \"Urgent tasks\",\r\n    key: 2,\r\n  },\r\n  {\r\n    priority: \"p4 High\",\r\n    value: 4,\r\n    display_name: \"High priority tasks\",\r\n    key: 3,\r\n  },\r\n  {\r\n    priority: \"p3 Medium\",\r\n    value: 3,\r\n    display_name: \"Medium priority tasks\",\r\n    key: 4,\r\n  },\r\n  {\r\n    priority: \"p2 Low\",\r\n    value: 2,\r\n    display_name: \"Low priority tasks \",\r\n    key: 5,\r\n  },\r\n];\r\n\r\nexport const defaultProjectIds = [\"0\", \"1\"];\r\n\r\nexport const defaultProjectDetails = {\r\n  title: \"INBOX\",\r\n  description: \"A default project for all your tasks\",\r\n  archived: false,\r\n};\r\n\r\nexport const defaultProjects = [\r\n  {\r\n    title: \"Today\",\r\n    id: \"0\",\r\n  },\r\n  {\r\n    title: \"Upcoming\",\r\n    id: \"1\",\r\n  },\r\n];\r\n","import {\r\n  getFirestore,\r\n  collection,\r\n  getDoc,\r\n  query,\r\n  doc,\r\n  setDoc,\r\n  serverTimestamp,\r\n  addDoc,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport * as gC from \"./../Constants/constants\";\r\n\r\nconst db = getFirestore();\r\n\r\nasync function checkIfUserExists(userId) {\r\n  let result = false;\r\n  if (userId !== \"\") {\r\n    const q = query(doc(db, \"users\", userId));\r\n    const snapShot = await getDoc(q);\r\n    if (snapShot.exists()) {\r\n      result = true;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nasync function addUser(user) {\r\n  if (user !== null) {\r\n    const newUser = {\r\n      displayName: user.displayName,\r\n      email: user.email,\r\n      photoURL: user.photoURL,\r\n      emailVerified: user.emailVerified,\r\n    };\r\n    const uid = user.uid;\r\n\r\n    const result = await setDoc(doc(db, \"users\", uid), {\r\n      ...newUser,\r\n    });\r\n    console.log(result);\r\n  }\r\n}\r\n\r\nasync function createDefaultProject(userId) {\r\n  if (userId !== null) {\r\n    const _project = {\r\n      ...gC.defaultProjectDetails,\r\n      timestamp: serverTimestamp(),\r\n      uid: userId,\r\n    };\r\n    const result = await addDoc(collection(db, \"projects\"), {\r\n      ..._project,\r\n    });\r\n    await updateDoc(doc(db, \"users\", userId), {\r\n      defaultProjectId: result.id,\r\n    });\r\n  }\r\n}\r\n\r\nexport { checkIfUserExists, addUser, createDefaultProject };\r\n","import React, { createContext, useContext, useState } from \"react\";\r\nimport * as firebase from \"./firebase\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from \"firebase/auth\";\r\n\r\nconst authContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(authContext);\r\n}\r\n\r\nexport function AuthContextProvider({ children }) {\r\n  const auth = useAuthProvider();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\nfunction useAuthProvider() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const auth = getAuth();\r\n\r\n  onAuthStateChanged(auth, (_user) => {\r\n    if (_user) {\r\n      setUser(_user);\r\n    } else {\r\n      setUser(null);\r\n    }\r\n  });\r\n\r\n  async function signIn() {\r\n    const provider = new GoogleAuthProvider();\r\n    signInWithPopup(auth, provider)\r\n      .then(async (result) => {\r\n        const credential = GoogleAuthProvider.credentialFromResult(result);\r\n        const token = credential.accessToken;\r\n        const _user = result.user;\r\n        setUser(_user);\r\n        await _setUpFIrstTimeUser(_user.uid);\r\n\r\n        console.log({ credential, token, _user });\r\n      })\r\n      .catch((error) => {\r\n        // Handle Errors here.\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        // The email of the user's account used.\r\n        const email = error.email;\r\n        // The AuthCredential type that was used.\r\n        const credential = GoogleAuthProvider.credentialFromError(error);\r\n\r\n        console.log(\"signing in\", {\r\n          errorCode,\r\n          errorMessage,\r\n          email,\r\n          credential,\r\n        });\r\n      });\r\n  }\r\n\r\n  async function signOut() {\r\n    await auth.signOut();\r\n    setUser(null);\r\n  }\r\n\r\n  async function _setUpFIrstTimeUser(userId) {\r\n    const userExists = await firebase.checkIfUserExists(userId);\r\n    if (!userExists) {\r\n      const user = auth.currentUser;\r\n      await firebase.addUser(user);\r\n      await firebase.createDefaultProject(user.uid);\r\n    }\r\n  }\r\n\r\n  return {\r\n    user,\r\n    signIn,\r\n    signOut,\r\n  };\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { useAuth } from \"./../services/useAuth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  const auth = useAuth();\r\n  const burgerMenu = useRef(null);\r\n  const navbarMain = useRef(null);\r\n  const profileDropdown = useRef(null);\r\n\r\n  function toggleBurgerMenu() {\r\n    if (burgerMenu !== null && navbarMain !== null) {\r\n      burgerMenu.current.classList.toggle(\"is-active\");\r\n      navbarMain.current.classList.toggle(\"is-active\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <nav\r\n      className=\"navbar is-light has-background-success-light\"\r\n      role=\"navigation\"\r\n      aria-label=\"main navigation\"\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"navbar-brand\">\r\n          <Link className=\"navbar-item\" to=\"/\">\r\n            <span className=\"is-size-4 has-text-weight-semibold \">\r\n              <strong>KARMA</strong>\r\n            </span>\r\n          </Link>\r\n\r\n          <button\r\n            className=\"navbar-burger has-text-weight-bold\"\r\n            aria-label=\"menu\"\r\n            aria-expanded=\"false\"\r\n            onClick={() => toggleBurgerMenu()}\r\n            data-target=\"navbarBasicExample\"\r\n            ref={burgerMenu}\r\n          >\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n          </button>\r\n        </div>\r\n\r\n        <div id=\"navbarMain\" className=\"navbar-menu\" ref={navbarMain}>\r\n          <div className=\"navbar-end\">\r\n            <div className=\"navbar-item\">\r\n              {auth.user ? (\r\n                <div className=\"buttons\">\r\n                  <div\r\n                    className=\"navbar-item has-dropdown is-hoverable\"\r\n                    ref={profileDropdown}\r\n                  >\r\n                    <Link to=\"/\" className=\"navbar-link is-arrowless\">\r\n                      {auth.user.photoURL ? (\r\n                        <figure className=\"image is-32x32\">\r\n                          <img\r\n                            className=\"is-rounded\"\r\n                            src={auth.user.photoURL}\r\n                            alt=\"user profile\"\r\n                          />\r\n                          {console.log(auth.user.photoURL)}\r\n                        </figure>\r\n                      ) : (\r\n                        <span className=\"icon\">\r\n                          <i className=\"far fa-user\"></i>\r\n                        </span>\r\n                      )}\r\n                    </Link>\r\n\r\n                    <div className=\"navbar-dropdown is-right\">\r\n                      <Link to=\"/\" className=\"navbar-item\">\r\n                        Profile\r\n                      </Link>\r\n                      <Link to=\"/\" className=\"navbar-item\">\r\n                        Settings\r\n                      </Link>\r\n                      <hr className=\"navbar-divider\" />\r\n                      <Link\r\n                        to=\"/\"\r\n                        className=\"navbar-item is-selectable\"\r\n                        onClick={async () => {\r\n                          await auth.signOut();\r\n                          toggleBurgerMenu();\r\n                        }}\r\n                      >\r\n                        Log Out\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"buttons\">\r\n                  <button\r\n                    className=\"button has-background-success-light\"\r\n                    onClick={async () => {\r\n                      await auth.signIn();\r\n                      toggleBurgerMenu();\r\n                    }}\r\n                  >\r\n                    <strong>Sign up</strong>\r\n                  </button>\r\n                  <button\r\n                    className=\"button has-background-success-light\"\r\n                    onClick={async () => {\r\n                      await auth.signIn();\r\n                      toggleBurgerMenu();\r\n                    }}\r\n                  >\r\n                    Log in\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import moment from \"moment\";\r\n\r\nfunction isNumeric(string) {\r\n  if (typeof string != \"string\") return false;\r\n  return !isNaN(string) && !isNaN(parseFloat(string));\r\n}\r\n\r\nfunction selectDateTime(dateTime, source, initialDateTime) {\r\n  let _date = null;\r\n  if (source === \"tags\") {\r\n    _date = new Date(dateTime).getTime();\r\n  } else if (source === \"date\") {\r\n    _date = new Date(dateTime);\r\n  } else if (source === \"time\") {\r\n    const timeFragment = dateTime.split(\":\");\r\n    _date = new Date(initialDateTime).setHours(\r\n      timeFragment[0],\r\n      timeFragment[1],\r\n      0,\r\n      0\r\n    );\r\n  } else {\r\n    _date = new Date(dateTime);\r\n  }\r\n  return _date;\r\n}\r\n\r\nfunction getNextDayTimeStamp() {\r\n  return new Date(\r\n    new Date(moment(new Date()).add(1, \"days\")).setHours(0, 0, 0, 0)\r\n  ).getTime();\r\n}\r\n\r\nfunction getPrevDayTimeStamp() {\r\n  return new Date(new Date().setHours(0, 0, 0, 0)).getTime();\r\n}\r\n\r\nexport { getNextDayTimeStamp, getPrevDayTimeStamp, selectDateTime, isNumeric };\r\n","import React, { createContext, useContext, useState } from \"react\";\r\n\r\nconst glbalContext = createContext();\r\n\r\nexport function useGlobals() {\r\n  return useContext(glbalContext);\r\n}\r\n\r\nexport function GlobalContextProvider({ children }) {\r\n  const global = useGlobalProvider();\r\n  return (\r\n    <glbalContext.Provider value={global}>{children}</glbalContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useGlobalProvider() {\r\n  const [taskDetailActivated, setTaskDetailActivated] = useState(false);\r\n  const [showArchived, setShowArchived] = useState(false);\r\n  const [showCompleted, setShowCompleted] = useState(false);\r\n  const [detailTask, setDetailTask] = useState(null);\r\n\r\n  function activateTaskDetailModal(task) {\r\n    setTaskDetailActivated(true);\r\n    setDetailTask(task);\r\n  }\r\n\r\n  function deactivateTaskDetailModal() {\r\n    setDetailTask(null);\r\n    setTaskDetailActivated(false);\r\n  }\r\n\r\n  return {\r\n    taskDetailActivated,\r\n    detailTask,\r\n    showArchived,\r\n    showCompleted,\r\n    activateTaskDetailModal,\r\n    deactivateTaskDetailModal,\r\n    setShowCompleted,\r\n    setShowArchived,\r\n  };\r\n}\r\n","import { createContext, useContext, useState, useEffect } from \"react\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  getFirestore,\r\n  where,\r\n  query,\r\n  getDocs,\r\n  addDoc,\r\n  updateDoc,\r\n  setDoc,\r\n  serverTimestamp,\r\n  getDoc,\r\n  collectionGroup,\r\n} from \"firebase/firestore\";\r\nimport { useAuth } from \"./useAuth\";\r\nimport * as gC from \"../Constants/constants\";\r\nimport * as gF from \"./../Constants/gFunctions\";\r\nimport { useGlobals } from \"./useGlobals\";\r\n\r\nconst db = getFirestore();\r\n\r\nconst taskContext = createContext(null);\r\n\r\nexport function useTask() {\r\n  return useContext(taskContext);\r\n}\r\n\r\nexport function TaskContextProvider({ children }) {\r\n  const task = useTaskProvider();\r\n  return <taskContext.Provider value={task}>{children}</taskContext.Provider>;\r\n}\r\n\r\nconst fs = \":::::::::::::::::::Firestore fetch:::::::::::::::::::::\";\r\n\r\nfunction useTaskProvider() {\r\n  const reloadDelay = 1;\r\n\r\n  const auth = useAuth();\r\n  const globals = useGlobals();\r\n  const [projects, setProjects] = useState([]);\r\n  const [currentProject, setCurrentProject] = useState(null);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [reloadTaskFlag, setReloadTaskFlag] = useState(false);\r\n  const [reloadProjects, setReloadProjects] = useState(false);\r\n  const [defaultProjects, setDefaultProjects] = useState([]);\r\n  const [reloadDefaultTasks, setReloadDefaultTasks] = useState(false);\r\n  const [defaultProjectId, setDefaultProjectId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let timer = null;\r\n    async function getProjects() {\r\n      if (auth.user) {\r\n        console.log(fs, \"projects\");\r\n\r\n        const defaultProjectQuery = query(doc(db, \"users\", auth.user.uid));\r\n\r\n        let snap = await getDoc(defaultProjectQuery);\r\n        if (snap.exists()) {\r\n          const _defaultProjectId = snap.data().defaultProjectId;\r\n          setDefaultProjectId(_defaultProjectId);\r\n          const q = query(\r\n            collection(db, \"projects\"),\r\n            where(\"uid\", \"==\", auth.user.uid),\r\n            where(\"archived\", \"==\", false)\r\n          );\r\n          snap = await getDocs(q);\r\n\r\n          // set projects and current project\r\n          const _projects = [];\r\n          const _defaultProjects = [];\r\n          snap.forEach((value) => {\r\n            if (value.id === _defaultProjectId.trim()) {\r\n              // console.log(\"adding project to default ones\", value.id);\r\n              _defaultProjects.push({ ...value.data(), id: value.id });\r\n            } else {\r\n              //console.log(\"adding normal projects\", value.id);\r\n              _projects.push({ ...value.data(), id: value.id });\r\n            }\r\n          });\r\n          setCurrentProject(gC.defaultProjects[0]);\r\n          setProjects(_projects);\r\n          setDefaultProjects(_defaultProjects);\r\n        } else {\r\n          timer = setTimeout(\r\n            () => setReloadProjects(!reloadProjects),\r\n            reloadDelay * 1000\r\n          );\r\n        }\r\n      } else {\r\n        setProjects([]);\r\n        setDefaultProjects([]);\r\n        setCurrentProject(null);\r\n      }\r\n    }\r\n\r\n    getProjects();\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [auth.user, reloadProjects]);\r\n\r\n  useEffect(() => {\r\n    async function _getTasks() {\r\n      if (auth.user && currentProject) {\r\n        console.log(fs, \"tasks\");\r\n        if (\r\n          gC.defaultProjectIds.find(\r\n            (projectId) => currentProject.id === projectId\r\n          )\r\n        ) {\r\n          setTasks([]);\r\n          setReloadDefaultTasks((reloadDefaultTasks) => !reloadDefaultTasks);\r\n        } else {\r\n          const q = query(\r\n            collection(db, \"projects\", currentProject.id, \"tasks\"),\r\n            where(\"archived\", \"==\", globals.showArchived),\r\n            where(\"completed\", \"==\", globals.showCompleted)\r\n          );\r\n          const snap = await getDocs(q);\r\n\r\n          const _tasks = [];\r\n          snap.forEach((value) => {\r\n            const _task = { ...value.data(), id: value.id };\r\n            _task.dueDate = _task.dueDate.toDate();\r\n            _tasks.push(_task);\r\n          });\r\n\r\n          setTasks(_tasks);\r\n        }\r\n      } else {\r\n        setTasks([]);\r\n      }\r\n    }\r\n    _getTasks();\r\n\r\n    return () => {};\r\n  }, [\r\n    auth.user,\r\n    currentProject,\r\n    reloadTaskFlag,\r\n    globals.showCompleted,\r\n    globals.showArchived,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    async function _getTasks() {\r\n      if (gC.defaultProjectIds.find((pId) => pId === currentProject.id)) {\r\n        const q =\r\n          currentProject.id.toString() === \"0\"\r\n            ? query(\r\n                collectionGroup(db, \"tasks\"),\r\n                where(\"uid\", \"==\", auth.user.uid),\r\n                where(\"archived\", \"==\", false),\r\n                where(\"completed\", \"==\", false),\r\n                where(\"dueDate\", \">\", new Date(gF.getPrevDayTimeStamp())),\r\n                where(\"dueDate\", \"<\", new Date(gF.getNextDayTimeStamp()))\r\n              )\r\n            : query(\r\n                collectionGroup(db, \"tasks\"),\r\n                where(\"uid\", \"==\", auth.user.uid),\r\n                where(\"archived\", \"==\", false),\r\n                where(\"completed\", \"==\", false),\r\n                where(\"dueDate\", \">\", new Date(gF.getPrevDayTimeStamp()))\r\n              );\r\n\r\n        const _tasks = [];\r\n        const snapShot = await getDocs(q);\r\n        snapShot.forEach((value) => {\r\n          const _task = { ...value.data(), id: value.id };\r\n          _task.dueDate = _task.dueDate.toDate();\r\n          _tasks.push(_task);\r\n        });\r\n        setTasks(_tasks);\r\n      }\r\n    }\r\n\r\n    if (currentProject) {\r\n      _getTasks();\r\n    }\r\n\r\n    return () => {};\r\n  }, [auth.user, reloadDefaultTasks, currentProject]);\r\n\r\n  async function addTask(_newTask) {\r\n    if (auth.user && _newTask) {\r\n      _newTask.dueDate = new Date(_newTask.dueDate) || null;\r\n      _newTask.uid = auth.user.uid;\r\n      _newTask.archived = false;\r\n      let project = currentProject.id;\r\n      gC.defaultProjectIds.forEach((pId) => {\r\n        if (currentProject.id.toString().trim() === pId.toString().trim()) {\r\n          project = defaultProjectId;\r\n          _newTask.projectId = defaultProjectId;\r\n        }\r\n      });\r\n      _newTask.projectId = _newTask.projectId || currentProject.id;\r\n\r\n      const taskRef = collection(db, \"projects\", project, \"tasks\");\r\n\r\n      const newTask = await addDoc(taskRef, {\r\n        ..._newTask,\r\n      });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n      return newTask.id;\r\n    }\r\n  }\r\n\r\n  async function updateTask(taskId, updatedTask) {\r\n    if (auth.user) {\r\n      const taskRef = doc(db, \"projects\", currentProject.id, \"tasks\", taskId);\r\n      await updateDoc(taskRef, {\r\n        ...updatedTask,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n    } else {\r\n      console.log(\"user not logged in\", \"update\");\r\n    }\r\n  }\r\n\r\n  async function deleteTask(task) {\r\n    if (auth.user && task) {\r\n      const taskRef = doc(\r\n        db,\r\n        \"projects\",\r\n        task.projectId || currentProject.id,\r\n        \"tasks\",\r\n        task.id\r\n      );\r\n      await setDoc(taskRef, { archived: true }, { merge: true });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n    } else {\r\n      console.log(\"user not logged in \", \"delete \");\r\n    }\r\n  }\r\n\r\n  async function addProject(title, description = \"\") {\r\n    if (auth.user) {\r\n      const _project = {\r\n        title,\r\n        description,\r\n        timestamp: serverTimestamp(),\r\n        uid: auth.user.uid,\r\n        archived: false,\r\n      };\r\n      const projectRef = collection(db, \"projects\");\r\n      const newProject = await addDoc(projectRef, { ..._project });\r\n      setReloadProjects(!reloadProjects);\r\n      return newProject.id;\r\n    } else {\r\n      console.log(\"user not logged in\", \"project add \");\r\n    }\r\n  }\r\n\r\n  async function deleteProject(projectId) {\r\n    if (auth.user && projectId && projectId !== defaultProjectId) {\r\n      const projectRef = doc(db, \"projects\", projectId);\r\n      const q = query(collection(db, \"projects\", projectId, \"tasks\"));\r\n      const _tasksSnap = await getDoc(q);\r\n      _tasksSnap.forEach(async (value) => {\r\n        await updateDoc(doc(db, \"projects\", projectId, \"tasks\", value.id), {\r\n          ...value.data(),\r\n          archived: true,\r\n        });\r\n      });\r\n      const project = await getDoc(projectRef);\r\n      await updateDoc(projectRef, {\r\n        ...project,\r\n        archived: true,\r\n      });\r\n      setReloadProjects(!reloadProjects);\r\n      return;\r\n    } else {\r\n      console.log(\"user not logged in\", \"delete project \");\r\n    }\r\n  }\r\n\r\n  async function updateProject(updatedProject) {\r\n    if (auth.user) {\r\n      const projectRef = doc(db, \"projects\", currentProject.id);\r\n      const updateRef = await updateDoc(projectRef, {\r\n        ...updatedProject,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n      setReloadProjects(!reloadProjects);\r\n      return updateRef.id;\r\n    } else {\r\n      console.log(\"user not logged in\", \"update project\");\r\n    }\r\n  }\r\n\r\n  async function changeCurrentProject(project) {\r\n    if (auth.user && project) {\r\n      setCurrentProject(project);\r\n    }\r\n  }\r\n\r\n  async function changeTaskStatus(task, status) {\r\n    if (auth.user && task) {\r\n      console.log(task);\r\n      const q = query(\r\n        doc(\r\n          db,\r\n          \"projects\",\r\n          task.projectId || currentProject.id,\r\n          \"tasks\",\r\n          task.id\r\n        )\r\n      );\r\n      await updateDoc(q, {\r\n        completed: status,\r\n      });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n    }\r\n  }\r\n\r\n  return {\r\n    tasks,\r\n    projects,\r\n    currentProject,\r\n    defaultProjects,\r\n    // tasks\r\n    addTask,\r\n    updateTask,\r\n    deleteTask,\r\n    // projects\r\n    addProject,\r\n    deleteProject,\r\n    updateProject,\r\n    //other\r\n    changeCurrentProject,\r\n    changeTaskStatus,\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport { useGlobals } from \"../services/useGlobals\";\r\nimport moment from \"moment\";\r\nimport { defaultDueDate } from \"../Constants/constants\";\r\n\r\nfunction TaskRow({ task }) {\r\n  const store = useTask();\r\n  const globals = useGlobals();\r\n\r\n  function selectClassName() {\r\n    let className = \"tag is-light \";\r\n\r\n    if (\r\n      new Date(task.dueDate).getTime() <\r\n      new Date(moment(new Date()).subtract(1, \"days\")).getTime()\r\n    ) {\r\n      className += \"is-danger\";\r\n    } else if (new Date(task.dueDate).getTime() < new Date().getTime()) {\r\n      className += \"is-warning\";\r\n    } else {\r\n      className += \"is-success\";\r\n    }\r\n    return className;\r\n  }\r\n\r\n  function handleTaskClick() {\r\n    globals.activateTaskDetailModal(task);\r\n  }\r\n\r\n  const style = {\r\n    paddingTop: \"0.25em\",\r\n    paddinBottom: \"0.25em\",\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td className=\"columns p-0 m-0 is-mobile\">\r\n        <button\r\n          className=\"column is-narrow is-flex is-justify-content-center remove-button-preset\"\r\n          style={style}\r\n        >\r\n          <span\r\n            className=\"icon is-align-self-center\"\r\n            onClick={() => store.changeTaskStatus(task, !task.completed)}\r\n          >\r\n            {task.completed ? (\r\n              <i className=\"fas fa-check-circle\"></i>\r\n            ) : (\r\n              <i className=\"far fa-circle\"></i>\r\n            )}\r\n          </span>\r\n        </button>\r\n        <div\r\n          className=\"column is-flex is-clickable\"\r\n          onClick={() => handleTaskClick()}\r\n          style={style}\r\n        >\r\n          <span className=\"is-align-self-center\">\r\n            {task.title}\r\n            <br />\r\n\r\n            {new Date(task.dueDate).getTime() !==\r\n              new Date(defaultDueDate).getTime() && (\r\n              <span className=\"tags\">\r\n                <span className={selectClassName()}>\r\n                  {moment(task.dueDate).calendar()}\r\n                </span>\r\n              </span>\r\n            )}\r\n          </span>\r\n        </div>\r\n        <div className=\"column is-narrow is-flex\" style={style}>\r\n          <div className=\"is-align-self-center\"></div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"column is-narrow is-flex is-clickable  \"\r\n          onClick={async () => await store.deleteTask(task)}\r\n          style={style}\r\n        >\r\n          {globals.showArchived ? (\r\n            <span className=\"icon is-align-self-center\">\r\n              <i className=\"fas fa-archive\"></i>\r\n            </span>\r\n          ) : (\r\n            <span className=\"icon is-align-self-center\">\r\n              <i className=\"far fa-trash-alt\"></i>\r\n            </span>\r\n          )}\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default TaskRow;\r\n","import moment from \"moment\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { selectPriority } from \"../Constants/constants\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport TaskRow from \"./TaskRow\";\r\n\r\nfunction TaskList() {\r\n  const store = useTask();\r\n  const [taskTable, setTaskTable] = useState(<></>);\r\n\r\n  useEffect(() => {\r\n    if (store.currentProject) {\r\n      const _taskTable =\r\n        store.currentProject.id.toString() === \"1\"\r\n          ? mapTaskByDueDate(store.tasks)\r\n          : mapTasksbyPriority(store.tasks);\r\n      setTaskTable(_taskTable);\r\n    }\r\n    return () => {};\r\n  }, [store.tasks, store.currentProject]);\r\n\r\n  return <div>{taskTable}</div>;\r\n}\r\n\r\nfunction mapTasksbyPriority(taskList) {\r\n  const _selectPriority = [...selectPriority];\r\n\r\n  const priorityList = _selectPriority\r\n    .sort((p1, p2) => p2.value - p1.value)\r\n    .map((priority) => {\r\n      return { ...priority, tasks: [] };\r\n    });\r\n  const tasks = taskList.sort((p1, p2) => {\r\n    return new Date(p1.dueDate).getTime() - new Date(p2.dueDate).getTime();\r\n  });\r\n  for (let i = 0; i < tasks.length; i++) {\r\n    const task = tasks[i];\r\n    let index = priorityList.length - 1;\r\n\r\n    // find out at which index out task is goinf to go into\r\n    for (let p = 0; p < priorityList.length; p++) {\r\n      const priority = priorityList[p];\r\n      // console.log(priority.value, task.priority);\r\n      if (parseInt(priority.value) === parseInt(task.priority)) {\r\n        index = p;\r\n        break;\r\n      }\r\n    }\r\n    // assign task to that index\r\n    priorityList[index].tasks.push(task);\r\n  }\r\n\r\n  return mapTaskTable(priorityList);\r\n}\r\n\r\nfunction mapTaskByDueDate(taskList) {\r\n  const sortOrder = [];\r\n  for (let i = 1; i < 30; i++) {\r\n    let taskListObj = {\r\n      display_name: moment(new Date()).add(i, \"days\").format(\"MMMM Do\"),\r\n      key: i,\r\n      tasks: [],\r\n    };\r\n    const startDate = new Date(\r\n      moment(new Date().setHours(0, 0, 0, 0)).add(i - 1, \"days\")\r\n    ).getTime();\r\n    const endDate = new Date(\r\n      moment(new Date().setHours(0, 0, 0, 0)).add(i, \"days\")\r\n    ).getTime();\r\n    taskListObj.tasks = taskList.filter((task) => {\r\n      const dueDate = new Date(task.dueDate).getTime();\r\n      return dueDate > startDate && dueDate < endDate;\r\n    });\r\n    sortOrder.push(taskListObj);\r\n  }\r\n  return mapTaskTable(sortOrder);\r\n}\r\n\r\nfunction mapTaskTable(organizedTaskLists) {\r\n  const TaskTable = [];\r\n  organizedTaskLists.forEach((separator) => {\r\n    if (separator.tasks.length > 0) {\r\n      const element = (\r\n        <table\r\n          className=\"table is-fullwidth is-hoverable m-0 p-0\"\r\n          key={separator.key}\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th>{separator.display_name}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {separator.tasks.map((task) => {\r\n              return <TaskRow task={task} key={task.id} />;\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      );\r\n\r\n      TaskTable.push(element);\r\n    }\r\n  });\r\n\r\n  return TaskTable;\r\n}\r\n\r\nexport default TaskList;\r\n","import React, { useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport * as constants from \"../Constants/constants\";\r\n\r\nconst DateAndTimeSelector = ({ dateTime, setDateTime }) => {\r\n  const [activated, setActivated] = useState(false);\r\n  const [tempDateTime, setTempDateTime] = useState(dateTime);\r\n\r\n  function handleDateChange(e) {\r\n    setTempDateTime(new Date(new Date(e.target.value).setHours(9, 0, 0, 0)));\r\n  }\r\n\r\n  function handleTimeChange(e) {\r\n    const timeDetail = e.target.value.toString().split(\":\");\r\n    setTempDateTime(\r\n      new Date(new Date(tempDateTime).setHours(timeDetail[0], timeDetail[1]))\r\n    );\r\n  }\r\n\r\n  function handleActivation() {\r\n    setActivated(true);\r\n    setTempDateTime(new Date());\r\n  }\r\n\r\n  function handleCancelClick() {\r\n    setTempDateTime(dateTime);\r\n    setActivated(false);\r\n  }\r\n\r\n  function handleSaveClick() {\r\n    setActivated(false);\r\n    setDateTime(tempDateTime);\r\n  }\r\n\r\n  return activated ? (\r\n    <div className=\"field is-horizontal\">\r\n      <div className=\"field-body\">\r\n        <div className=\"field\">\r\n          <p className=\"control \">\r\n            <input\r\n              className=\"input\"\r\n              type=\"date\"\r\n              value={moment(tempDateTime).format(\"yyyy-MM-DD\")}\r\n              onChange={(e) => handleDateChange(e)}\r\n            />\r\n          </p>\r\n        </div>\r\n        <div className=\"field\">\r\n          <p className=\"control\">\r\n            <input\r\n              className=\"input\"\r\n              type=\"time\"\r\n              value={moment(tempDateTime).format(\"HH:mm\")}\r\n              onChange={(e) => handleTimeChange(e)}\r\n            />\r\n          </p>\r\n        </div>\r\n        <div className=\"field\">\r\n          <div\r\n            className=\"button is-outlined is-success is-light\"\r\n            onClick={() => handleSaveClick()}\r\n          >\r\n            Save\r\n          </div>\r\n          <div\r\n            className=\"button is-outlined is-link is-light\"\r\n            onClick={() => handleCancelClick()}\r\n          >\r\n            Cancel\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div onClick={() => handleActivation()}>\r\n      <div className=\"button is-outlined is-light is-link\">\r\n        {new Date(dateTime).getTime() !==\r\n        new Date(constants.defaultDueDate).getTime() ? (\r\n          <span>{moment(dateTime).calendar()}</span>\r\n        ) : (\r\n          <span>\r\n            <span className=\"icon\">\r\n              <i className=\"far fa-clock\"></i>\r\n            </span>\r\n            <span>Schedule</span>\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateAndTimeSelector;\r\n","import React from \"react\";\r\n\r\nconst FormButtons = ({\r\n  button1Click,\r\n  button1Text = \"Done\",\r\n  button2Click,\r\n  button2Text = \"Cancel\",\r\n}) => {\r\n  return (\r\n    <div className=\"field is-grouped\">\r\n      <div className=\"control\">\r\n        <button\r\n          className=\"button is-success is-light is-outlined\"\r\n          onClick={async () => await button1Click()}\r\n        >\r\n          {button1Text}\r\n        </button>\r\n      </div>\r\n      <div className=\"control\">\r\n        <button\r\n          className=\"button is-link is-light is-outlined\"\r\n          onClick={() => button2Click()}\r\n        >\r\n          {button2Text}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormButtons;\r\n","import React from \"react\";\r\n\r\nconst DropDown = ({ initialValue, handleValueChange, dropDownOptions }) => {\r\n  return (\r\n    <div className=\"control\">\r\n      <div className=\"select\">\r\n        <select\r\n          onChange={(e) => handleValueChange(e.target.value)}\r\n          value={initialValue}\r\n        >\r\n          {dropDownOptions.map((priority) => {\r\n            return (\r\n              <option key={priority.value} value={priority.value}>\r\n                {priority.priority}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropDown;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport * as constants from \"../Constants/constants\";\r\nimport DateAndTimeSelector from \"./DateAndTimeSelector\";\r\nimport FormButtons from \"./FormButtons\";\r\n// import PriorityTags from \"./components/PriorityTags\";\r\nimport DropDown from \"./DropDown\";\r\nimport moment from \"moment\";\r\n\r\nconst TaskForm = () => {\r\n  const store = useTask();\r\n\r\n  const [activated, setActivated] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [titleError, setTitleError] = useState(\"\");\r\n  const [dueDate, setDueDate] = useState(constants.defaultDueDate);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [priority, setPriority] = useState(constants.selectPriority[0].value);\r\n  const [tagList, setTagList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    tagList.forEach((tag) => {\r\n      if (tag.category === constants.tagCategory.datetime) {\r\n        if (tag.id === 1) {\r\n          setDueDate(() => new Date(new Date().setHours(9, 0, 0, 0)));\r\n        } else if (tag.id === 2) {\r\n          setDueDate(\r\n            () =>\r\n              new Date(moment(new Date().setHours(9, 0, 0, 0)).add(1, \"days\"))\r\n          );\r\n        }\r\n      } else if (tag.category === constants.tagCategory.projects) {\r\n      }\r\n    });\r\n    return () => {};\r\n  }, [tagList]);\r\n\r\n  async function addTask() {\r\n    if (validateInput()) {\r\n      const newTask = {\r\n        title: title,\r\n        description: description,\r\n        completed: false,\r\n        dueDate: dueDate,\r\n        priority: priority,\r\n      };\r\n      await store.addTask(newTask);\r\n      setActivated(false);\r\n      resetForm();\r\n    }\r\n  }\r\n\r\n  function handleFormClose() {\r\n    resetForm();\r\n    setActivated(false);\r\n  }\r\n\r\n  function resetForm() {\r\n    setTitle(\"\");\r\n    setDueDate(constants.defaultDueDate);\r\n    setTitleError(\"\");\r\n    setPriority(constants.selectPriority[0].value);\r\n    setDescription(\"\");\r\n    setTagList([]);\r\n  }\r\n\r\n  function validateInput() {\r\n    let result = true;\r\n    if (title.trim() === \"\") {\r\n      result = false;\r\n      setTitleError(\"Task title cannot be empty\");\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function setDateTime(dateTime) {\r\n    setDueDate(dateTime);\r\n  }\r\n\r\n  function handleTaskPriority(priority) {\r\n    setPriority(priority);\r\n  }\r\n\r\n  function handleTitleChange(title) {\r\n    setTitle(title);\r\n    processText(title);\r\n  }\r\n\r\n  function processText(input) {\r\n    const tempTagList = [...tagList];\r\n\r\n    const r_today = /(\\btod\\b|\\btoday\\b)/i;\r\n    const r_tomorrow = /(\\btom\\b|\\btomorrow\\b)/i;\r\n    const category = constants.tagCategory.datetime;\r\n\r\n    if (\r\n      r_today.test(input) &&\r\n      !tempTagList.find((tag) => tag.id === 1) &&\r\n      !tempTagList.find(\r\n        (tag) => tag.category === constants.tagCategory.datetime\r\n      )\r\n    ) {\r\n      tempTagList.push({\r\n        id: 1,\r\n        text: \"today\",\r\n        category: category,\r\n      });\r\n      setTagList(tempTagList);\r\n    } else if (\r\n      !r_today.test(input) &&\r\n      tempTagList.find((tag) => tag.id === 1)\r\n    ) {\r\n      handleTagDelete(1);\r\n    }\r\n\r\n    if (\r\n      r_tomorrow.test(input) &&\r\n      !tempTagList.find((tag) => tag.id === 2) &&\r\n      !tempTagList.find(\r\n        (tag) => tag.category === constants.tagCategory.datetime\r\n      )\r\n    ) {\r\n      tempTagList.push({\r\n        id: 2,\r\n        text: \"tomorrow\",\r\n        category: category,\r\n      });\r\n      setTagList(tempTagList);\r\n    } else if (\r\n      !r_tomorrow.test(input) &&\r\n      tempTagList.find((tag) => tag.id === 2)\r\n    ) {\r\n      handleTagDelete(2);\r\n    }\r\n\r\n    if (\r\n      !tempTagList.find(\r\n        (tag) => tag.category === constants.tagCategory.projects\r\n      )\r\n    ) {\r\n    }\r\n  }\r\n\r\n  function handleTagDelete(tagId) {\r\n    const tempTagList = [...tagList];\r\n    const index = tempTagList.findIndex((tag) => tag.id === tagId);\r\n    if (index !== -1) {\r\n      tempTagList.splice(index, 1);\r\n      setTagList(tempTagList);\r\n      setDueDate(new Date(constants.defaultDueDate));\r\n    }\r\n  }\r\n\r\n  return activated ? (\r\n    <div className=\"block\">\r\n      <div className=\"p-2 border-gray-light\">\r\n        <div className=\"field\">\r\n          <div className=\"control has-icons-left has-icons-right\">\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              placeholder=\"Bring milk and sweets\"\r\n              value={title}\r\n              onChange={(e) => handleTitleChange(e.target.value)}\r\n              onFocus={() => setTitleError(\"\")}\r\n            />\r\n            <span className=\"icon is-small is-left\">\r\n              <i className=\"fas fa-tasks\"></i>\r\n            </span>\r\n            <span className=\"icon is-small is-right\">\r\n              <i className=\"fas fa-check\"></i>\r\n            </span>\r\n          </div>\r\n          <p className=\"help is-danger\">{titleError}</p>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <textarea\r\n            className=\"textarea has-fixed-size\"\r\n            placeholder=\"Enter the task description here\"\r\n            rows=\"2\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div className=\"field columns is-mobile\">\r\n          <div className=\"column is-narrow pb-0\">\r\n            <DropDown\r\n              initialValue={priority}\r\n              handleValueChange={handleTaskPriority}\r\n              dropDownOptions={constants.selectPriority}\r\n            />\r\n          </div>\r\n          <div className=\"column pb-0\">\r\n            <div className=\"tags\">\r\n              {tagList.map((tag) => {\r\n                return (\r\n                  <span className=\"tag is-info is-light\" key={tag.id}>\r\n                    {tag.text}\r\n                    <button\r\n                      className=\"delete is-small\"\r\n                      onClick={() => handleTagDelete(tag.id)}\r\n                    ></button>\r\n                  </span>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"column is-narrow\">\r\n            <DateAndTimeSelector dateTime={dueDate} setDateTime={setDateTime} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-1\">\r\n        <FormButtons\r\n          button1Click={addTask}\r\n          button1Text={\"Add Task\"}\r\n          button2Click={handleFormClose}\r\n          button2Text={\"Cancel\"}\r\n        />\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"control pl-4\">\r\n      <button\r\n        className=\"button is-outlined is-success is-light is-fullwidth\"\r\n        onClick={() => setActivated(true)}\r\n      >\r\n        Add Task\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskForm;\r\n","import React, { useState } from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\n\r\nconst ProjectForm = ({ setActivated }) => {\r\n  const store = useTask();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [titleError, setTitleError] = useState(\"\");\r\n\r\n  function handleCloseForm() {\r\n    setTitle(\"\");\r\n    setTitleError(\"\");\r\n    setActivated(false);\r\n  }\r\n\r\n  async function handleAddProject() {\r\n    if (validateInput()) {\r\n      await store.addProject(title);\r\n      setActivated(false);\r\n    }\r\n  }\r\n\r\n  function validateInput() {\r\n    let result = true;\r\n    if (title.trim() === \"\") {\r\n      result = false;\r\n      setTitleError(\"project must have a name\");\r\n    }\r\n    return result;\r\n  }\r\n\r\n  return (\r\n    <form>\r\n      <div className=\"field\">\r\n        <input\r\n          className=\"input\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          id=\"title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          onFocus={() => setTitleError(\"\")}\r\n        />\r\n        <p className=\"help is-danger\">{titleError}</p>\r\n      </div>\r\n      <div className=\"field is-grouped\">\r\n        <div className=\"control\">\r\n          <div\r\n            className=\"button is-success is-light\"\r\n            onClick={async () => await handleAddProject()}\r\n          >\r\n            Add Project\r\n          </div>\r\n        </div>\r\n        <div className=\"control\" onClick={() => handleCloseForm()}>\r\n          <div className=\"button is-light is-info\">Cancel</div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProjectForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport { defaultProjects } from \"../Constants/constants\";\r\n\r\nconst DefaultProjectList = () => {\r\n  const store = useTask();\r\n  const [projects, setProjects] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (store.defaultProjects !== null) {\r\n      setProjects([...store.defaultProjects, ...defaultProjects]);\r\n    }\r\n    return () => {};\r\n  }, [store.defaultProjects, store.currentProject]);\r\n\r\n  function handleProjectClick(project) {\r\n    store.changeCurrentProject(project);\r\n  }\r\n\r\n  return (\r\n    <table className=\"table is-hoverable is-fullwidth\">\r\n      <tbody>\r\n        {store.currentProject &&\r\n          projects.map((project) => {\r\n            return (\r\n              <tr\r\n                key={project.id}\r\n                className={\r\n                  project.id === store.currentProject.id\r\n                    ? \"is-selected is-clickable\"\r\n                    : \"is-clickable\"\r\n                }\r\n                onClick={async () => handleProjectClick(project)}\r\n              >\r\n                <td>{project.title}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default DefaultProjectList;\r\n","import React, { useState } from \"react\";\r\nimport ProjectForm from \"./ProjectForm\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport DefaultProjectList from \"./DefaultProjectList\";\r\n\r\nfunction ProjectList() {\r\n  const store = useTask();\r\n  const [activated, setActivated] = useState(false);\r\n\r\n  async function handleChangeProject(project) {\r\n    await store.changeCurrentProject(project);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <DefaultProjectList />\r\n      <table className=\"table is-hoverable is-fullwidth\">\r\n        <thead>\r\n          <tr>\r\n            <th>Projects</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {store.projects.map((project) => {\r\n            return (\r\n              <tr\r\n                key={project.id}\r\n                className={\r\n                  project.id === store.currentProject.id\r\n                    ? \"is-selected is-clickable\"\r\n                    : \"is-clickable\"\r\n                }\r\n                onClick={async () => await handleChangeProject(project)}\r\n              >\r\n                <td>{project.title}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div>\r\n        {activated ? (\r\n          <ProjectForm setActivated={setActivated} />\r\n        ) : (\r\n          <div\r\n            className=\"button is-light is-success is-outlined is-fullwidth\"\r\n            onClick={() => setActivated(!activated)}\r\n          >\r\n            Add Project\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProjectList;\r\n","import { Helmet } from \"react-helmet\";\r\nimport React from \"react\";\r\n\r\nconst Seo = () => {\r\n  const title = \"Karma\";\r\n  const description = \"A TODO App\";\r\n  //const keywords = [\"karma\", \"todo\", \"react\", \"app\", \"SPA\"];\r\n  return (\r\n    <Helmet>\r\n      <title>{title}</title>\r\n      <meta name=\"description\" content={description} />\r\n      <script\r\n        src=\"https://kit.fontawesome.com/cf77766bad.js\"\r\n        crossorigin=\"anonymous\"\r\n      ></script>\r\n    </Helmet>\r\n  );\r\n};\r\nexport default Seo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useGlobals } from \"../services/useGlobals\";\r\nimport DropDown from \"./DropDown\";\r\nimport DateAndTimeSelector from \"./DateAndTimeSelector\";\r\nimport * as constants from \"../Constants/constants\";\r\nimport FormButtons from \"./FormButtons\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport moment from \"moment\";\r\n\r\nconst TaskDetail = () => {\r\n  const globals = useGlobals();\r\n  const task = globals.detailTask;\r\n  const store = useTask();\r\n  // return prematurely if task is not defined\r\n\r\n  //form states\r\n  const [title, setTitle] = useState(task ? task.title : \"\");\r\n  const [description, setDescription] = useState(task ? task.description : \"\");\r\n  const [priority, setPriority] = useState(task ? task.priority : 1);\r\n  const [dueDate, setDueDate] = useState(task ? task.dueDate : null);\r\n  const [customDueDate, setCustomDueDate] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (globals.detailTask) {\r\n      const task = globals.detailTask;\r\n\r\n      setTitle(task.title);\r\n      setDescription(task.description);\r\n      setPriority(task.priority);\r\n      setDueDate(task.dueDate);\r\n    }\r\n    return () => {};\r\n  }, [globals.detailTask]);\r\n\r\n  function handleTaskPriority(priority) {\r\n    setPriority(priority);\r\n  }\r\n\r\n  async function handleSubmit() {\r\n    if (task) {\r\n      const newTask = {\r\n        title: title,\r\n        description: description,\r\n        dueDate: dueDate,\r\n        completed: false,\r\n        priority: priority,\r\n      };\r\n      await store.updateTask(task.id, newTask);\r\n    }\r\n    globals.deactivateTaskDetailModal();\r\n  }\r\n\r\n  function handleCancel() {\r\n    globals.deactivateTaskDetailModal();\r\n  }\r\n\r\n  return (\r\n    <div className={globals.taskDetailActivated ? \"modal is-active\" : \"modal\"}>\r\n      <div className=\"modal-background\" onClick={() => handleCancel()}></div>\r\n      {task && (\r\n        <div className=\"modal-content has-background-white-bis has-text-black-bis\">\r\n          <div className=\"section\">\r\n            <div className=\"field\">\r\n              <label className=\"label\">\r\n                <span className=\"icon\">\r\n                  <i className=\"fas fa-tasks\"></i>\r\n                </span>\r\n                <span>Task Title</span>\r\n              </label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"text\"\r\n                  placeholder=\"Do Laundry\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                />\r\n              </div>\r\n              <p className=\"help is-danger\"></p>\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\">\r\n                <span className=\"icon\">\r\n                  <i className=\"fas fa-align-left\"></i>\r\n                </span>\r\n                <span>Task Description</span>\r\n              </label>\r\n              <div className=\"control\">\r\n                <textarea\r\n                  className=\"textarea\"\r\n                  placeholder=\"what are the steps to do laundry??? i need to google bro...\"\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <div className=\"control\">\r\n                <strong>Due Date : </strong> {moment(dueDate).calendar()}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"field is-grouped\">\r\n              <DropDown\r\n                handleValueChange={handleTaskPriority}\r\n                initialValue={priority}\r\n                dropDownOptions={constants.selectPriority}\r\n              />\r\n              {!customDueDate ? (\r\n                <div className=\"field\">\r\n                  <div className=\"control\">\r\n                    <div\r\n                      className=\"button is-outlined is-info is-light\"\r\n                      onClick={() => setCustomDueDate(!customDueDate)}\r\n                    >\r\n                      Custom due date\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <DateAndTimeSelector\r\n                  dateTime={dueDate}\r\n                  setDateTime={setDueDate}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <FormButtons\r\n              button1Text={\"Update Task\"}\r\n              button2Text={\"Cancel\"}\r\n              button1Click={handleSubmit}\r\n              button2Click={handleCancel}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskDetail;\r\n","import React from \"react\";\r\nimport { useAuth } from \"../services/useAuth\";\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <section className=\"hero  is-fullheight-with-navbar\">\r\n      <div className=\"hero-head\"></div>\r\n\r\n      <div className=\"hero-body\">\r\n        <HomePageFront />\r\n      </div>\r\n\r\n      <div className=\"hero-foot pb-2 px-2\">\r\n        <div className=\"container\">\r\n          <nav className=\"level content\">\r\n            <div className=\"level-left\">\r\n              <p className=\"level-item\">KARMA &copy; 2021</p>\r\n            </div>\r\n            <div className=\"level-right\">\r\n              <p className=\"level-item\">FAQ</p>\r\n              <p className=\"level-item mr-1 mb-4\">Email Support</p>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n\r\nfunction HomePageFront() {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <div className=\"container has-text-centered\">\r\n      <p className=\"content\">\r\n        <span className=\"subtitle\">\r\n          A Minimalistic TODO App with powerfull features\r\n          <br />\r\n          Please <strong>SignUp</strong> or <strong>Log In</strong> to Continue\r\n        </span>\r\n      </p>\r\n      <div className=\"buttons\" style={{ justifyContent: \"center\" }}>\r\n        <button\r\n          className=\"button is-outlined is-success is-light\"\r\n          onClick={async () => await auth.signIn()}\r\n        >\r\n          Sign Up\r\n        </button>\r\n        <button\r\n          className=\"button is-outlined is-link is-light\"\r\n          onClick={async () => await auth.signIn()}\r\n        >\r\n          Log In\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nconst Toggler = ({ togglerOn, setTogglerOn }) => {\r\n  function handleTogglerClick() {\r\n    setTogglerOn(!togglerOn);\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={() => handleTogglerClick()}\r\n      className=\"toggler button is-light\"\r\n    >\r\n      <div\r\n        className={\r\n          togglerOn\r\n            ? \"toggler-circle toggler-on has-background-success\"\r\n            : \"toggler-circle has-background-grey\"\r\n        }\r\n      ></div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Toggler;\r\n","import React, { useState } from \"react\";\r\nimport Toggler from \"./Toggler\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport { useGlobals } from \"../services/useGlobals\";\r\n\r\nconst Settings = () => {\r\n  const [activated, setActivated] = useState(false);\r\n  const store = useTask();\r\n  const globals = useGlobals();\r\n\r\n  function handleCogClick() {\r\n    setActivated(!activated);\r\n  }\r\n\r\n  return (\r\n    <div className=\"mb-0 pb-0\">\r\n      <div className=\"level p-2 is-mobile\">\r\n        <div className=\"level-left\">\r\n          <div className=\"level-item is-size-4 is-uppercase has-text-weight-semibold\">\r\n            {store.currentProject ? store.currentProject.title : \"\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"level-right\">\r\n          <div className=\"level-item\">\r\n            <button className=\"button\" onClick={() => handleCogClick()}>\r\n              <span className=\"icon\">\r\n                <i className=\"fas fa-cog\"></i>\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {activated && (\r\n        <div className=\"px-2\">\r\n          <div className=\"columns is-justify-content-space-between is-mobile\">\r\n            <div className=\"column is-narrow\">\r\n              <span>Show Completed Tasks</span>\r\n            </div>\r\n            <div className=\"column is-narrow\">\r\n              <Toggler\r\n                togglerOn={globals.showCompleted}\r\n                setTogglerOn={globals.setShowCompleted}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"columns is-justify-content-space-between is-mobile\">\r\n            <div className=\"column is-narrow\">\r\n              <span>Show Archived Tasks</span>\r\n            </div>\r\n            <div className=\"column is-narrow\">\r\n              <Toggler\r\n                togglerOn={globals.showArchived}\r\n                setTogglerOn={globals.setShowArchived}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport \"./config/firebase.config\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport TaskList from \"./components/TaskList\";\r\nimport TaskForm from \"./components/TaskForm\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { TaskContextProvider } from \"./services/useTask\";\r\nimport ProjectList from \"./components/ProjectList\";\r\nimport Seo from \"./services/Seo\";\r\nimport TaskDetail from \"./components/TaskDetail\";\r\nimport { useAuth } from \"./services/useAuth\";\r\nimport HomePage from \"./components/HomePage\";\r\nimport \"./App.scss\";\r\nimport Settings from \"./components/Settings\";\r\n\r\nconst App = () => {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <Router>\r\n      <Seo />\r\n      <div>\r\n        <Navbar />\r\n      </div>\r\n\r\n      {auth.user ? (\r\n        <section className=\"section\">\r\n          <TaskContextProvider>\r\n            <TaskDetail />\r\n            <div className=\"columns container mx-auto\">\r\n              <div className=\"column is-one-fifth\">\r\n                <ProjectList />\r\n              </div>\r\n              <div className=\"column\">\r\n                <Settings />\r\n                <div className=\"block\">\r\n                  <TaskList />\r\n                </div>\r\n                <div className=\"block\">\r\n                  <TaskForm />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </TaskContextProvider>\r\n        </section>\r\n      ) : (\r\n        <div className=\"\">\r\n          <HomePage />\r\n        </div>\r\n      )}\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { AuthContextProvider } from \"./services/useAuth\";\r\nimport { GlobalContextProvider } from \"./services/useGlobals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalContextProvider>\r\n      <AuthContextProvider>\r\n        <App />\r\n      </AuthContextProvider>\r\n    </GlobalContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}