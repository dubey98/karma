{"version":3,"sources":["config/firebase.config.js","services/useGlobals.js","Constants/constants.js","services/firebase.js","services/useAuth.js","components/NavbarUserDropDown.jsx","components/Navbar.jsx","Constants/gFunctions.js","services/useTask.js","components/TaskRow.js","components/TaskList.jsx","components/DateAndTimeSelector.js","components/FormButtons.js","components/DropDown.js","components/TaskForm.jsx","components/ProjectForm.js","components/DefaultProjectList.js","components/ProjectList.js","services/Seo.js","components/TaskDetail.js","components/HomePage.js","components/Toggler.jsx","components/Settings.jsx","components/Calendar.jsx","App.jsx","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAnalytics","glbalContext","createContext","useGlobals","useContext","GlobalContextProvider","children","global","isMobile","useMediaQuery","query","useState","taskDetailActivated","setTaskDetailActivated","showArchived","setShowArchived","showCompleted","setShowCompleted","detailTask","setDetailTask","sideBarStatus","setSideBarStatus","activateTaskDetailModal","task","deactivateTaskDetailModal","handleSideBarStatus","status","useEffect","useGlobalProvider","Provider","value","defaultDueDate","tagCategory","datetime","projects","selectPriority","priority","display_name","key","defaultProjectIds","defaultProjectDetails","title","description","archived","defaultProjects","id","db","getFirestore","checkIfUserExists","userId","a","result","q","doc","getDoc","exists","addUser","user","newUser","displayName","email","photoURL","emailVerified","uid","setDoc","console","log","createDefaultProject","_project","gC","timestamp","serverTimestamp","addDoc","collection","updateDoc","defaultProjectId","authContext","useAuth","AuthContextProvider","auth","setUser","getAuth","signIn","provider","GoogleAuthProvider","signInWithPopup","then","credential","credentialFromResult","token","accessToken","_user","_setUpFIrstTimeUser","catch","error","errorCode","code","errorMessage","message","credentialFromError","signOut","firebase","currentUser","onAuthStateChanged","useAuthProvider","NavbarUserDropDown","profileDropdown","useRef","profileDropDownIcon","toggleMenu","current","classList","toggle","className","style","marginLeft","ref","onMouseEnter","add","onMouseLeave","remove","to","src","alt","onClick","Navbar","burgerMenu","globals","role","getNextDayTimeStamp","Date","addDays","setHours","getTime","getPrevDayTimeStamp","taskContext","useTask","TaskContextProvider","reloadDelay","setProjects","currentProject","setCurrentProject","tasks","setTasks","reloadTaskFlag","setReloadTaskFlag","reloadProjects","setReloadProjects","setDefaultProjects","reloadDefaultTasks","setReloadDefaultTasks","setDefaultProjectId","addTask","_newTask","dueDate","project","forEach","pId","toString","trim","taskRef","newTask","updateTask","taskId","updatedTask","deleteTask","merge","addProject","projectRef","newProject","deleteProject","data","updateProject","updatedProject","updateRef","changeCurrentProject","changeTaskStatus","completed","timer","getProjects","fs","defaultProjectQuery","snap","_defaultProjectId","where","getDocs","_projects","_defaultProjects","push","setTimeout","clearInterval","_getTasks","find","_tasks","_task","toDate","collectionGroup","gF","useTaskProvider","TaskRow","store","paddingTop","paddinBottom","selectClassName","formatRelative","mapTaskTable","organizedTaskLists","TaskTable","separator","length","element","map","TaskList","taskTable","setTaskTable","_taskTable","taskList","sortOrder","i","taskListObj","format","startDate","endDate","filter","mapTaskByDueDate","priorityList","sort","p1","p2","index","p","parseInt","mapTasksbyPriority","DateAndTimeSelector","dateTime","setDateTime","activated","setActivated","tempDateTime","setTempDateTime","type","onChange","e","target","handleDateChange","timeDetail","split","handleTimeChange","constants","FormButtons","button1Click","button1Text","button2Click","button2Text","DropDown","initialValue","handleValueChange","dropDownOptions","TaskForm","setTitle","titleError","setTitleError","setDueDate","setDescription","setPriority","tagList","setTagList","skipIndex","setSkipIndex","validateInput","resetForm","handleTitleChange","input","searchResult","exttime","tempTagList","category","containsDateTimeTag","tag","Array","isArray","findIndex","splice","matchedText","text","processText","placeholder","onFocus","rows","tagId","handleTagDelete","ProjectForm","handleAddProject","name","DefaultProjectList","handleProjectClick","ProjectList","handleChangeProject","Seo","Helmet","content","crossorigin","TaskDetail","customDueDate","setCustomDueDate","handleCancel","HomePage","HomePageFront","justifyContent","Toggler","togglerOn","setTogglerOn","CalendarButton","withRouter","history","location","useLocation","pathname","Settings","CalendarCells","displayValue","width","classNames","tempTasks","isSameDay","height","CalendarWeekDays","day","Calendar","calendarContainer","currentWidth","setWidth","resized","clientWidth","window","addEventListener","bind","calRows","startDay","startOfMonth","getDay","daysInLastMonth","getDaysInMonth","getFullYear","getMonth","daysInThisMonth","getProperties","tempRow","j","calCells","calRow","renderCells","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8b21d332.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB7UTq-y1DjPb0UuNJ83ZLnE81Ht405OQI\",\r\n  authDomain: \"todo-karma.firebaseapp.com\",\r\n  projectId: \"todo-karma\",\r\n  storageBucket: \"todo-karma.appspot.com\",\r\n  messagingSenderId: \"757248016606\",\r\n  appId: \"1:757248016606:web:60058f2edc4c08c1b5824f\",\r\n  measurementId: \"G-07LN1JMQ97\",\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const analytics = getAnalytics(app);\r\n","import React, { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nconst glbalContext = createContext();\r\n\r\nexport function useGlobals() {\r\n  return useContext(glbalContext);\r\n}\r\n\r\nexport function GlobalContextProvider({ children }) {\r\n  const global = useGlobalProvider();\r\n  return (\r\n    <glbalContext.Provider value={global}>{children}</glbalContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useGlobalProvider() {\r\n  const isMobile = useMediaQuery({\r\n    query: \"(max-width: 1023px)\",\r\n  });\r\n\r\n  const [taskDetailActivated, setTaskDetailActivated] = useState(false);\r\n  const [showArchived, setShowArchived] = useState(false);\r\n  const [showCompleted, setShowCompleted] = useState(false);\r\n  const [detailTask, setDetailTask] = useState(null);\r\n  const [sideBarStatus, setSideBarStatus] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (isMobile) {\r\n      setSideBarStatus(true);\r\n    } else {\r\n      setSideBarStatus(false);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  function activateTaskDetailModal(task) {\r\n    setTaskDetailActivated(true);\r\n    setDetailTask(task);\r\n  }\r\n\r\n  function deactivateTaskDetailModal() {\r\n    setDetailTask(null);\r\n    setTaskDetailActivated(false);\r\n  }\r\n\r\n  function handleSideBarStatus(status) {\r\n    setSideBarStatus(status);\r\n  }\r\n\r\n  return {\r\n    isMobile,\r\n    taskDetailActivated,\r\n    detailTask,\r\n    showArchived,\r\n    showCompleted,\r\n    sideBarStatus,\r\n    activateTaskDetailModal,\r\n    deactivateTaskDetailModal,\r\n    setShowCompleted,\r\n    setShowArchived,\r\n    handleSideBarStatus,\r\n  };\r\n}\r\n","export const defaultDueDate = \"1970-01-01T00:00:00.000Z\";\r\nexport const tagCategory = {\r\n  datetime: \"datetime\",\r\n  projects: \"projects\",\r\n};\r\n\r\nexport const selectPriority = [\r\n  {\r\n    priority: \"select priority\",\r\n    value: 1,\r\n    display_name: \"For later\",\r\n    key: 1,\r\n  },\r\n  {\r\n    priority: \"p5 Urgent\",\r\n    value: 5,\r\n    display_name: \"Urgent tasks\",\r\n    key: 2,\r\n  },\r\n  {\r\n    priority: \"p4 High\",\r\n    value: 4,\r\n    display_name: \"High priority tasks\",\r\n    key: 3,\r\n  },\r\n  {\r\n    priority: \"p3 Medium\",\r\n    value: 3,\r\n    display_name: \"Medium priority tasks\",\r\n    key: 4,\r\n  },\r\n  {\r\n    priority: \"p2 Low\",\r\n    value: 2,\r\n    display_name: \"Low priority tasks \",\r\n    key: 5,\r\n  },\r\n];\r\n\r\nexport const defaultProjectIds = [\"0\", \"1\"];\r\n\r\nexport const defaultProjectDetails = {\r\n  title: \"INBOX\",\r\n  description: \"A default project for all your tasks\",\r\n  archived: false,\r\n};\r\n\r\nexport const defaultProjects = [\r\n  {\r\n    title: \"Today\",\r\n    id: \"0\",\r\n  },\r\n  {\r\n    title: \"Upcoming\",\r\n    id: \"1\",\r\n  },\r\n];\r\n","import {\r\n  getFirestore,\r\n  collection,\r\n  getDoc,\r\n  query,\r\n  doc,\r\n  setDoc,\r\n  serverTimestamp,\r\n  addDoc,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport * as gC from \"./../Constants/constants\";\r\n\r\nconst db = getFirestore();\r\n\r\nasync function checkIfUserExists(userId) {\r\n  let result = false;\r\n  if (userId !== \"\") {\r\n    const q = query(doc(db, \"users\", userId));\r\n    const snapShot = await getDoc(q);\r\n    if (snapShot.exists()) {\r\n      result = true;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nasync function addUser(user) {\r\n  if (user !== null) {\r\n    const newUser = {\r\n      displayName: user.displayName,\r\n      email: user.email,\r\n      photoURL: user.photoURL,\r\n      emailVerified: user.emailVerified,\r\n    };\r\n    const uid = user.uid;\r\n\r\n    const result = await setDoc(doc(db, \"users\", uid), {\r\n      ...newUser,\r\n    });\r\n    console.log(result);\r\n  }\r\n}\r\n\r\nasync function createDefaultProject(userId) {\r\n  if (userId !== null) {\r\n    const _project = {\r\n      ...gC.defaultProjectDetails,\r\n      timestamp: serverTimestamp(),\r\n      uid: userId,\r\n    };\r\n    const result = await addDoc(collection(db, \"projects\"), {\r\n      ..._project,\r\n    });\r\n    await updateDoc(doc(db, \"users\", userId), {\r\n      defaultProjectId: result.id,\r\n    });\r\n  }\r\n}\r\n\r\nexport { checkIfUserExists, addUser, createDefaultProject };\r\n","import React, { createContext, useContext, useState } from \"react\";\r\nimport * as firebase from \"./firebase\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from \"firebase/auth\";\r\n\r\nconst authContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(authContext);\r\n}\r\n\r\nexport function AuthContextProvider({ children }) {\r\n  const auth = useAuthProvider();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\nfunction useAuthProvider() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const auth = getAuth();\r\n\r\n  onAuthStateChanged(auth, (_user) => {\r\n    if (_user) {\r\n      setUser(_user);\r\n    } else {\r\n      setUser(null);\r\n    }\r\n  });\r\n\r\n  async function signIn() {\r\n    const provider = new GoogleAuthProvider();\r\n    signInWithPopup(auth, provider)\r\n      .then(async (result) => {\r\n        const credential = GoogleAuthProvider.credentialFromResult(result);\r\n        const token = credential.accessToken;\r\n        const _user = result.user;\r\n        setUser(_user);\r\n        await _setUpFIrstTimeUser(_user.uid);\r\n\r\n        console.log({ credential, token, _user });\r\n      })\r\n      .catch((error) => {\r\n        // Handle Errors here.\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        // The email of the user's account used.\r\n        const email = error.email;\r\n        // The AuthCredential type that was used.\r\n        const credential = GoogleAuthProvider.credentialFromError(error);\r\n\r\n        console.log(\"signing in\", {\r\n          errorCode,\r\n          errorMessage,\r\n          email,\r\n          credential,\r\n        });\r\n      });\r\n  }\r\n\r\n  async function signOut() {\r\n    await auth.signOut();\r\n    setUser(null);\r\n  }\r\n\r\n  async function _setUpFIrstTimeUser(userId) {\r\n    const userExists = await firebase.checkIfUserExists(userId);\r\n    if (!userExists) {\r\n      const user = auth.currentUser;\r\n      await firebase.addUser(user);\r\n      await firebase.createDefaultProject(user.uid);\r\n    }\r\n  }\r\n\r\n  return {\r\n    user,\r\n    signIn,\r\n    signOut,\r\n  };\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { useAuth } from \"../services/useAuth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NavbarUserDropDown = () => {\r\n  const auth = useAuth();\r\n  const profileDropdown = useRef(null);\r\n  const profileDropDownIcon = useRef(null);\r\n\r\n  function toggleMenu() {\r\n    if (profileDropDownIcon && profileDropDownIcon.current) {\r\n      profileDropDownIcon.current.classList.toggle(\"is-active\");\r\n    }\r\n  }\r\n\r\n  function handleMouseEnter() {\r\n    if (profileDropdown && profileDropdown.current) {\r\n      profileDropdown.current.classList.add(\"is-block\");\r\n    }\r\n  }\r\n\r\n  function handleMouseLeave() {\r\n    if (profileDropdown && profileDropdown.current) {\r\n      profileDropdown.current.classList.remove(\"is-block\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"navbar-item burger-right\" style={{ marginLeft: \"auto\" }}>\r\n      {auth.user ? (\r\n        <div className=\"buttons\">\r\n          <div\r\n            className=\"navbar-item has-dropdown\"\r\n            ref={profileDropDownIcon}\r\n            onMouseEnter={() => handleMouseEnter()}\r\n            onMouseLeave={() => handleMouseLeave()}\r\n          >\r\n            <Link to=\"/\" className=\"navbar-link is-arrowless\">\r\n              {auth.user.photoURL ? (\r\n                <figure className=\"image is-32x32\">\r\n                  <img\r\n                    className=\"is-rounded\"\r\n                    src={auth.user.photoURL}\r\n                    alt=\"user profile\"\r\n                  />\r\n                </figure>\r\n              ) : (\r\n                <span className=\"icon\">\r\n                  <i className=\"far fa-user\"></i>\r\n                </span>\r\n              )}\r\n            </Link>\r\n\r\n            <div\r\n              className=\"navbar-dropdown navbar-dropdown-persist is-right-extended\"\r\n              ref={profileDropdown}\r\n            >\r\n              <Link to=\"/\" className=\"navbar-item\">\r\n                Profile\r\n              </Link>\r\n              <Link to=\"/\" className=\"navbar-item\">\r\n                Settings\r\n              </Link>\r\n              <hr className=\"navbar-divider\" />\r\n              <Link\r\n                to=\"/\"\r\n                className=\"navbar-item is-selectable\"\r\n                onClick={async () => {\r\n                  await auth.signOut();\r\n                  toggleMenu();\r\n                }}\r\n              >\r\n                Log Out\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"buttons\">\r\n          <button\r\n            className=\"button has-background-success-light\"\r\n            onClick={async () => {\r\n              await auth.signIn();\r\n              toggleMenu();\r\n            }}\r\n          >\r\n            <strong>Sign up</strong>\r\n          </button>\r\n          <button\r\n            className=\"button has-background-success-light\"\r\n            onClick={async () => {\r\n              await auth.signIn();\r\n              toggleMenu();\r\n            }}\r\n          >\r\n            Log in\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavbarUserDropDown;\r\n","import React, { useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useGlobals } from \"../services/useGlobals\";\r\nimport NavbarUserDropDown from \"./NavbarUserDropDown\";\r\n\r\nconst Navbar = () => {\r\n  const burgerMenu = useRef(null);\r\n  const globals = useGlobals();\r\n\r\n  function toggleBurgerMenu() {\r\n    if (burgerMenu !== null && burgerMenu.current) {\r\n      burgerMenu.current.classList.toggle(\"is-active\");\r\n    }\r\n    globals.handleSideBarStatus(!globals.sideBarStatus);\r\n  }\r\n\r\n  return (\r\n    <nav\r\n      className=\"navbar is-light has-background-success-light\"\r\n      role=\"navigation\"\r\n      aria-label=\"main navigation\"\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"navbar-brand\">\r\n          <button\r\n            className=\"burger-left has-text-weight-bold\"\r\n            aria-label=\"menu\"\r\n            aria-expanded=\"false\"\r\n            onClick={() => toggleBurgerMenu()}\r\n            data-target=\"navbarBasicExample\"\r\n            ref={burgerMenu}\r\n          >\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n          </button>\r\n\r\n          <Link className=\"navbar-item\" to=\"/\">\r\n            <span className=\"is-size-4 has-text-weight-semibold \">\r\n              <strong>KARMA</strong>\r\n            </span>\r\n          </Link>\r\n\r\n          {globals.isMobile && <NavbarUserDropDown />}\r\n        </div>\r\n\r\n        <div id=\"navbarMain\" className=\"navbar-menu\">\r\n          <div className=\"navbar-end\">\r\n            <NavbarUserDropDown />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { addDays } from \"date-fns\";\r\n\r\nfunction isNumeric(string) {\r\n  if (typeof string != \"string\") return false;\r\n  return !isNaN(string) && !isNaN(parseFloat(string));\r\n}\r\n\r\nfunction selectDateTime(dateTime, source, initialDateTime) {\r\n  let _date = null;\r\n  if (source === \"tags\") {\r\n    _date = new Date(dateTime).getTime();\r\n  } else if (source === \"date\") {\r\n    _date = new Date(dateTime);\r\n  } else if (source === \"time\") {\r\n    const timeFragment = dateTime.split(\":\");\r\n    _date = new Date(initialDateTime).setHours(\r\n      timeFragment[0],\r\n      timeFragment[1],\r\n      0,\r\n      0\r\n    );\r\n  } else {\r\n    _date = new Date(dateTime);\r\n  }\r\n  return _date;\r\n}\r\n\r\nfunction getNextDayTimeStamp() {\r\n  return new Date(\r\n    new Date(addDays(new Date(), 1)).setHours(0, 0, 0, 0)\r\n  ).getTime();\r\n}\r\n\r\nfunction getPrevDayTimeStamp() {\r\n  return new Date(new Date().setHours(0, 0, 0, 0)).getTime();\r\n}\r\n\r\nexport { getNextDayTimeStamp, getPrevDayTimeStamp, selectDateTime, isNumeric };\r\n","import { createContext, useContext, useState, useEffect } from \"react\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  getFirestore,\r\n  where,\r\n  query,\r\n  getDocs,\r\n  addDoc,\r\n  updateDoc,\r\n  setDoc,\r\n  serverTimestamp,\r\n  getDoc,\r\n  collectionGroup,\r\n} from \"firebase/firestore\";\r\nimport { useAuth } from \"./useAuth\";\r\nimport * as gC from \"../Constants/constants\";\r\nimport * as gF from \"./../Constants/gFunctions\";\r\nimport { useGlobals } from \"./useGlobals\";\r\n\r\nconst db = getFirestore();\r\n\r\nconst taskContext = createContext(null);\r\n\r\nexport function useTask() {\r\n  return useContext(taskContext);\r\n}\r\n\r\nexport function TaskContextProvider({ children }) {\r\n  const task = useTaskProvider();\r\n  return <taskContext.Provider value={task}>{children}</taskContext.Provider>;\r\n}\r\n\r\nconst fs = \":::::::::::::::::::Firestore fetch:::::::::::::::::::::\";\r\n\r\nfunction useTaskProvider() {\r\n  const reloadDelay = 1;\r\n\r\n  const auth = useAuth();\r\n  const globals = useGlobals();\r\n  const [projects, setProjects] = useState([]);\r\n  const [currentProject, setCurrentProject] = useState(null);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [reloadTaskFlag, setReloadTaskFlag] = useState(false);\r\n  const [reloadProjects, setReloadProjects] = useState(false);\r\n  const [defaultProjects, setDefaultProjects] = useState([]);\r\n  const [reloadDefaultTasks, setReloadDefaultTasks] = useState(false);\r\n  const [defaultProjectId, setDefaultProjectId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let timer = null;\r\n    async function getProjects() {\r\n      if (auth.user) {\r\n        console.log(fs, \"projects\");\r\n\r\n        const defaultProjectQuery = query(doc(db, \"users\", auth.user.uid));\r\n\r\n        let snap = await getDoc(defaultProjectQuery);\r\n        if (snap.exists()) {\r\n          const _defaultProjectId = snap.data().defaultProjectId;\r\n          setDefaultProjectId(_defaultProjectId);\r\n          const q = query(\r\n            collection(db, \"projects\"),\r\n            where(\"uid\", \"==\", auth.user.uid),\r\n            where(\"archived\", \"==\", false)\r\n          );\r\n          snap = await getDocs(q);\r\n\r\n          // set projects and current project\r\n          const _projects = [];\r\n          const _defaultProjects = [];\r\n          snap.forEach((value) => {\r\n            if (value.id === _defaultProjectId.trim()) {\r\n              // console.log(\"adding project to default ones\", value.id);\r\n              _defaultProjects.push({ ...value.data(), id: value.id });\r\n            } else {\r\n              //console.log(\"adding normal projects\", value.id);\r\n              _projects.push({ ...value.data(), id: value.id });\r\n            }\r\n          });\r\n          setCurrentProject(gC.defaultProjects[0]);\r\n          setProjects(_projects);\r\n          setDefaultProjects(_defaultProjects);\r\n        } else {\r\n          timer = setTimeout(\r\n            () => setReloadProjects(!reloadProjects),\r\n            reloadDelay * 1000\r\n          );\r\n        }\r\n      } else {\r\n        setProjects([]);\r\n        setDefaultProjects([]);\r\n        setCurrentProject(null);\r\n      }\r\n    }\r\n\r\n    getProjects();\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [auth.user, reloadProjects]);\r\n\r\n  useEffect(() => {\r\n    async function _getTasks() {\r\n      if (auth.user && currentProject) {\r\n        console.log(fs, \"tasks\");\r\n        if (\r\n          gC.defaultProjectIds.find(\r\n            (projectId) => currentProject.id === projectId\r\n          )\r\n        ) {\r\n          setTasks([]);\r\n          setReloadDefaultTasks((reloadDefaultTasks) => !reloadDefaultTasks);\r\n        } else {\r\n          const q = query(\r\n            collection(db, \"projects\", currentProject.id, \"tasks\"),\r\n            where(\"archived\", \"==\", globals.showArchived),\r\n            where(\"completed\", \"==\", globals.showCompleted)\r\n          );\r\n          const snap = await getDocs(q);\r\n\r\n          const _tasks = [];\r\n          snap.forEach((value) => {\r\n            const _task = { ...value.data(), id: value.id };\r\n            _task.dueDate = _task.dueDate.toDate();\r\n            _tasks.push(_task);\r\n          });\r\n\r\n          setTasks(_tasks);\r\n        }\r\n      } else {\r\n        setTasks([]);\r\n      }\r\n    }\r\n    _getTasks();\r\n\r\n    return () => {};\r\n  }, [\r\n    auth.user,\r\n    currentProject,\r\n    reloadTaskFlag,\r\n    globals.showCompleted,\r\n    globals.showArchived,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    async function _getTasks() {\r\n      if (gC.defaultProjectIds.find((pId) => pId === currentProject.id)) {\r\n        const q =\r\n          currentProject.id.toString() === \"0\"\r\n            ? query(\r\n                collectionGroup(db, \"tasks\"),\r\n                where(\"uid\", \"==\", auth.user.uid),\r\n                where(\"archived\", \"==\", false),\r\n                where(\"completed\", \"==\", false),\r\n                where(\"dueDate\", \">\", new Date(gF.getPrevDayTimeStamp())),\r\n                where(\"dueDate\", \"<\", new Date(gF.getNextDayTimeStamp()))\r\n              )\r\n            : query(\r\n                collectionGroup(db, \"tasks\"),\r\n                where(\"uid\", \"==\", auth.user.uid),\r\n                where(\"archived\", \"==\", false),\r\n                where(\"completed\", \"==\", false),\r\n                where(\"dueDate\", \">\", new Date(gF.getPrevDayTimeStamp()))\r\n              );\r\n\r\n        const _tasks = [];\r\n        const snapShot = await getDocs(q);\r\n        snapShot.forEach((value) => {\r\n          const _task = { ...value.data(), id: value.id };\r\n          _task.dueDate = _task.dueDate.toDate();\r\n          _tasks.push(_task);\r\n        });\r\n        setTasks(_tasks);\r\n      }\r\n    }\r\n\r\n    if (currentProject) {\r\n      _getTasks();\r\n    }\r\n\r\n    return () => {};\r\n  }, [auth.user, reloadDefaultTasks, currentProject]);\r\n\r\n  async function addTask(_newTask) {\r\n    if (auth.user && _newTask) {\r\n      _newTask.dueDate = new Date(_newTask.dueDate) || null;\r\n      _newTask.uid = auth.user.uid;\r\n      _newTask.archived = false;\r\n      let project = currentProject.id;\r\n      gC.defaultProjectIds.forEach((pId) => {\r\n        if (currentProject.id.toString().trim() === pId.toString().trim()) {\r\n          project = defaultProjectId;\r\n          _newTask.projectId = defaultProjectId;\r\n        }\r\n      });\r\n      _newTask.projectId = _newTask.projectId || currentProject.id;\r\n\r\n      const taskRef = collection(db, \"projects\", project, \"tasks\");\r\n\r\n      const newTask = await addDoc(taskRef, {\r\n        ..._newTask,\r\n      });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n      return newTask.id;\r\n    }\r\n  }\r\n\r\n  async function updateTask(taskId, updatedTask) {\r\n    if (auth.user) {\r\n      const taskRef = doc(db, \"projects\", currentProject.id, \"tasks\", taskId);\r\n      await updateDoc(taskRef, {\r\n        ...updatedTask,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n    } else {\r\n      console.log(\"user not logged in\", \"update\");\r\n    }\r\n  }\r\n\r\n  async function deleteTask(task) {\r\n    if (auth.user && task) {\r\n      const taskRef = doc(\r\n        db,\r\n        \"projects\",\r\n        task.projectId || currentProject.id,\r\n        \"tasks\",\r\n        task.id\r\n      );\r\n      await setDoc(taskRef, { archived: true }, { merge: true });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n    } else {\r\n      console.log(\"user not logged in \", \"delete \");\r\n    }\r\n  }\r\n\r\n  async function addProject(title, description = \"\") {\r\n    if (auth.user) {\r\n      const _project = {\r\n        title,\r\n        description,\r\n        timestamp: serverTimestamp(),\r\n        uid: auth.user.uid,\r\n        archived: false,\r\n      };\r\n      const projectRef = collection(db, \"projects\");\r\n      const newProject = await addDoc(projectRef, { ..._project });\r\n      setReloadProjects(!reloadProjects);\r\n      return newProject.id;\r\n    } else {\r\n      console.log(\"user not logged in\", \"project add \");\r\n    }\r\n  }\r\n\r\n  async function deleteProject(projectId) {\r\n    if (auth.user && projectId && projectId !== defaultProjectId) {\r\n      const projectRef = doc(db, \"projects\", projectId);\r\n      const q = query(collection(db, \"projects\", projectId, \"tasks\"));\r\n      const _tasksSnap = await getDoc(q);\r\n      _tasksSnap.forEach(async (value) => {\r\n        await updateDoc(doc(db, \"projects\", projectId, \"tasks\", value.id), {\r\n          ...value.data(),\r\n          archived: true,\r\n        });\r\n      });\r\n      const project = await getDoc(projectRef);\r\n      await updateDoc(projectRef, {\r\n        ...project,\r\n        archived: true,\r\n      });\r\n      setReloadProjects(!reloadProjects);\r\n      return;\r\n    } else {\r\n      console.log(\"user not logged in\", \"delete project \");\r\n    }\r\n  }\r\n\r\n  async function updateProject(updatedProject) {\r\n    if (auth.user) {\r\n      const projectRef = doc(db, \"projects\", currentProject.id);\r\n      const updateRef = await updateDoc(projectRef, {\r\n        ...updatedProject,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n      setReloadProjects(!reloadProjects);\r\n      return updateRef.id;\r\n    } else {\r\n      console.log(\"user not logged in\", \"update project\");\r\n    }\r\n  }\r\n\r\n  async function changeCurrentProject(project) {\r\n    if (auth.user && project) {\r\n      setCurrentProject(project);\r\n    }\r\n  }\r\n\r\n  async function changeTaskStatus(task, status) {\r\n    if (auth.user && task) {\r\n      console.log(task);\r\n      const q = query(\r\n        doc(\r\n          db,\r\n          \"projects\",\r\n          task.projectId || currentProject.id,\r\n          \"tasks\",\r\n          task.id\r\n        )\r\n      );\r\n      await updateDoc(q, {\r\n        completed: status,\r\n      });\r\n      setReloadTaskFlag(!reloadTaskFlag);\r\n    }\r\n  }\r\n\r\n  return {\r\n    tasks,\r\n    projects,\r\n    currentProject,\r\n    defaultProjects,\r\n    // tasks\r\n    addTask,\r\n    updateTask,\r\n    deleteTask,\r\n    // projects\r\n    addProject,\r\n    deleteProject,\r\n    updateProject,\r\n    //other\r\n    changeCurrentProject,\r\n    changeTaskStatus,\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport { useGlobals } from \"../services/useGlobals\";\r\nimport { defaultDueDate } from \"../Constants/constants\";\r\nimport addDays from \"date-fns/addDays\";\r\nimport { formatRelative } from \"date-fns\";\r\n\r\nfunction TaskRow({ task }) {\r\n  const store = useTask();\r\n  const globals = useGlobals();\r\n\r\n  function selectClassName() {\r\n    let className = \"tag is-light \";\r\n\r\n    if (\r\n      new Date(task.dueDate).getTime() <\r\n      new Date(addDays(new Date(), -1)).getTime()\r\n    ) {\r\n      className += \"is-danger\";\r\n    } else if (new Date(task.dueDate).getTime() < new Date().getTime()) {\r\n      className += \"is-warning\";\r\n    } else {\r\n      className += \"is-success\";\r\n    }\r\n    return className;\r\n  }\r\n\r\n  function handleTaskClick() {\r\n    globals.activateTaskDetailModal(task);\r\n  }\r\n\r\n  const style = {\r\n    paddingTop: \"0.25em\",\r\n    paddinBottom: \"0.25em\",\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td className=\"columns p-0 m-0 is-mobile\">\r\n        <button\r\n          className=\"column is-narrow is-flex is-justify-content-center remove-button-preset\"\r\n          style={style}\r\n        >\r\n          <span\r\n            className=\"icon is-align-self-center\"\r\n            onClick={() => store.changeTaskStatus(task, !task.completed)}\r\n          >\r\n            {task.completed ? (\r\n              <i className=\"fas fa-check-circle\"></i>\r\n            ) : (\r\n              <i className=\"far fa-circle\"></i>\r\n            )}\r\n          </span>\r\n        </button>\r\n        <div\r\n          className=\"column is-flex is-clickable\"\r\n          onClick={() => handleTaskClick()}\r\n          style={style}\r\n        >\r\n          <span className=\"is-align-self-center\">\r\n            {task.title}\r\n            <br />\r\n\r\n            {new Date(task.dueDate).getTime() !==\r\n              new Date(defaultDueDate).getTime() && (\r\n              <span className=\"tags\">\r\n                <span className={selectClassName()}>\r\n                  {formatRelative(task.dueDate, new Date())}\r\n                </span>\r\n              </span>\r\n            )}\r\n          </span>\r\n        </div>\r\n        <div className=\"column is-narrow is-flex\" style={style}>\r\n          <div className=\"is-align-self-center\"></div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"column is-narrow is-flex is-clickable  \"\r\n          onClick={async () => await store.deleteTask(task)}\r\n          style={style}\r\n        >\r\n          {globals.showArchived ? (\r\n            <span className=\"icon is-align-self-center\">\r\n              <i className=\"fas fa-archive\"></i>\r\n            </span>\r\n          ) : (\r\n            <span className=\"icon is-align-self-center\">\r\n              <i className=\"far fa-trash-alt\"></i>\r\n            </span>\r\n          )}\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default TaskRow;\r\n","import { addDays } from \"date-fns/esm\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { selectPriority } from \"../Constants/constants\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport TaskRow from \"./TaskRow\";\r\n\r\nfunction TaskList() {\r\n  const store = useTask();\r\n  const [taskTable, setTaskTable] = useState(<></>);\r\n\r\n  useEffect(() => {\r\n    if (store.currentProject) {\r\n      const _taskTable =\r\n        store.currentProject.id.toString() === \"1\"\r\n          ? mapTaskByDueDate(store.tasks)\r\n          : mapTasksbyPriority(store.tasks);\r\n      setTaskTable(_taskTable);\r\n    }\r\n    return () => {};\r\n  }, [store.tasks, store.currentProject]);\r\n\r\n  return <div>{taskTable}</div>;\r\n}\r\n\r\nfunction mapTasksbyPriority(taskList) {\r\n  const _selectPriority = [...selectPriority];\r\n\r\n  const priorityList = _selectPriority\r\n    .sort((p1, p2) => p2.value - p1.value)\r\n    .map((priority) => {\r\n      return { ...priority, tasks: [] };\r\n    });\r\n  const tasks = taskList.sort((p1, p2) => {\r\n    return new Date(p1.dueDate).getTime() - new Date(p2.dueDate).getTime();\r\n  });\r\n  for (let i = 0; i < tasks.length; i++) {\r\n    const task = tasks[i];\r\n    let index = priorityList.length - 1;\r\n\r\n    // find out at which index out task is goinf to go into\r\n    for (let p = 0; p < priorityList.length; p++) {\r\n      const priority = priorityList[p];\r\n      // console.log(priority.value, task.priority);\r\n      if (parseInt(priority.value) === parseInt(task.priority)) {\r\n        index = p;\r\n        break;\r\n      }\r\n    }\r\n    // assign task to that index\r\n    priorityList[index].tasks.push(task);\r\n  }\r\n\r\n  return mapTaskTable(priorityList);\r\n}\r\n\r\nfunction mapTaskByDueDate(taskList) {\r\n  const sortOrder = [];\r\n  for (let i = 1; i < 30; i++) {\r\n    let taskListObj = {\r\n      display_name: addDays(new Date(), 1).format(\"MMM do\"),\r\n      key: i,\r\n      tasks: [],\r\n    };\r\n    const startDate = new Date(\r\n      addDays(new Date(), -1).setHours(0, 0, 0, 0)\r\n    ).getTime();\r\n    const endDate = new Date(\r\n      addDays(new Date(), -1).setHours(0, 0, 0, 0)\r\n    ).getTime();\r\n    taskListObj.tasks = taskList.filter((task) => {\r\n      const dueDate = new Date(task.dueDate).getTime();\r\n      return dueDate > startDate && dueDate < endDate;\r\n    });\r\n    sortOrder.push(taskListObj);\r\n  }\r\n  return mapTaskTable(sortOrder);\r\n}\r\n\r\nfunction mapTaskTable(organizedTaskLists) {\r\n  const TaskTable = [];\r\n  organizedTaskLists.forEach((separator) => {\r\n    if (separator.tasks.length > 0) {\r\n      const element = (\r\n        <table\r\n          className=\"table is-fullwidth is-hoverable m-0 p-0\"\r\n          key={separator.key}\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th>{separator.display_name}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {separator.tasks.map((task) => {\r\n              return <TaskRow task={task} key={task.id} />;\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      );\r\n\r\n      TaskTable.push(element);\r\n    }\r\n  });\r\n\r\n  return TaskTable;\r\n}\r\n\r\nexport default TaskList;\r\n","import { format, formatRelative } from \"date-fns\";\r\nimport React, { useState } from \"react\";\r\nimport * as constants from \"../Constants/constants\";\r\n\r\nconst DateAndTimeSelector = ({ dateTime, setDateTime }) => {\r\n  const [activated, setActivated] = useState(false);\r\n  const [tempDateTime, setTempDateTime] = useState(dateTime);\r\n\r\n  function handleDateChange(e) {\r\n    setTempDateTime(new Date(new Date(e.target.value).setHours(9, 0, 0, 0)));\r\n  }\r\n\r\n  function handleTimeChange(e) {\r\n    const timeDetail = e.target.value.toString().split(\":\");\r\n    setTempDateTime(\r\n      new Date(new Date(tempDateTime).setHours(timeDetail[0], timeDetail[1]))\r\n    );\r\n  }\r\n\r\n  function handleActivation() {\r\n    setActivated(true);\r\n    setTempDateTime(new Date());\r\n  }\r\n\r\n  function handleCancelClick() {\r\n    setTempDateTime(dateTime);\r\n    setActivated(false);\r\n  }\r\n\r\n  function handleSaveClick() {\r\n    setActivated(false);\r\n    setDateTime(tempDateTime);\r\n  }\r\n\r\n  return activated ? (\r\n    <div className=\"field is-horizontal\">\r\n      <div className=\"field-body\">\r\n        <div className=\"field\">\r\n          <p className=\"control \">\r\n            <input\r\n              className=\"input\"\r\n              type=\"date\"\r\n              value={format(tempDateTime, \"yyyy-MM-dd\")}\r\n              onChange={(e) => handleDateChange(e)}\r\n            />\r\n          </p>\r\n        </div>\r\n        <div className=\"field\">\r\n          <p className=\"control\">\r\n            <input\r\n              className=\"input\"\r\n              type=\"time\"\r\n              value={format(tempDateTime, \"HH:mm\")}\r\n              onChange={(e) => handleTimeChange(e)}\r\n            />\r\n          </p>\r\n        </div>\r\n        <div className=\"field\">\r\n          <div\r\n            className=\"button is-outlined is-success is-light\"\r\n            onClick={() => handleSaveClick()}\r\n          >\r\n            Save\r\n          </div>\r\n          <div\r\n            className=\"button is-outlined is-link is-light\"\r\n            onClick={() => handleCancelClick()}\r\n          >\r\n            Cancel\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div onClick={() => handleActivation()}>\r\n      <div className=\"button is-outlined is-light is-link\">\r\n        {new Date(dateTime).getTime() !==\r\n        new Date(constants.defaultDueDate).getTime() ? (\r\n          <span>{formatRelative(dateTime)}</span>\r\n        ) : (\r\n          <span>\r\n            <span className=\"icon\">\r\n              <i className=\"far fa-clock\"></i>\r\n            </span>\r\n            <span>Schedule</span>\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateAndTimeSelector;\r\n","import React from \"react\";\r\n\r\nconst FormButtons = ({\r\n  button1Click,\r\n  button1Text = \"Done\",\r\n  button2Click,\r\n  button2Text = \"Cancel\",\r\n}) => {\r\n  return (\r\n    <div className=\"field is-grouped\">\r\n      <div className=\"control\">\r\n        <button\r\n          className=\"button is-success is-light is-outlined\"\r\n          onClick={async () => await button1Click()}\r\n        >\r\n          {button1Text}\r\n        </button>\r\n      </div>\r\n      <div className=\"control\">\r\n        <button\r\n          className=\"button is-link is-light is-outlined\"\r\n          onClick={() => button2Click()}\r\n        >\r\n          {button2Text}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormButtons;\r\n","import React from \"react\";\r\n\r\nconst DropDown = ({ initialValue, handleValueChange, dropDownOptions }) => {\r\n  return (\r\n    <div className=\"control\">\r\n      <div className=\"select\">\r\n        <select\r\n          onChange={(e) => handleValueChange(e.target.value)}\r\n          value={initialValue}\r\n        >\r\n          {dropDownOptions.map((priority) => {\r\n            return (\r\n              <option key={priority.value} value={priority.value}>\r\n                {priority.priority}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropDown;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport * as constants from \"../Constants/constants\";\r\nimport DateAndTimeSelector from \"./DateAndTimeSelector\";\r\nimport FormButtons from \"./FormButtons\";\r\n// import PriorityTags from \"./components/PriorityTags\";\r\nimport DropDown from \"./DropDown\";\r\nimport * as exttime from \"exttime\";\r\n\r\nconst TaskForm = () => {\r\n  const store = useTask();\r\n\r\n  const [activated, setActivated] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [titleError, setTitleError] = useState(\"\");\r\n  const [dueDate, setDueDate] = useState(constants.defaultDueDate);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [priority, setPriority] = useState(constants.selectPriority[0].value);\r\n  const [tagList, setTagList] = useState([]);\r\n  const [skipIndex, setSkipIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    tagList.forEach((tag) => {\r\n      if (tag.category === constants.tagCategory.datetime) {\r\n        setDueDate(tag.datetime);\r\n      } else if (tag.category === constants.tagCategory.projects) {\r\n      }\r\n    });\r\n    if (\r\n      !tagList.find((tag) => tag.category === constants.tagCategory.dateTime)\r\n    ) {\r\n      setDueDate(constants.defaultDueDate);\r\n    }\r\n    return () => {};\r\n  }, [tagList]);\r\n\r\n  async function addTask() {\r\n    if (validateInput()) {\r\n      const newTask = {\r\n        title: title,\r\n        description: description,\r\n        completed: false,\r\n        dueDate: dueDate,\r\n        priority: priority,\r\n      };\r\n      await store.addTask(newTask);\r\n      setActivated(false);\r\n      resetForm();\r\n    }\r\n  }\r\n\r\n  function handleFormClose() {\r\n    resetForm();\r\n    setActivated(false);\r\n  }\r\n\r\n  function resetForm() {\r\n    setTitle(\"\");\r\n    setDueDate(constants.defaultDueDate);\r\n    setTitleError(\"\");\r\n    setPriority(constants.selectPriority[0].value);\r\n    setDescription(\"\");\r\n    setTagList([]);\r\n  }\r\n\r\n  function validateInput() {\r\n    let result = true;\r\n    if (title.trim() === \"\") {\r\n      result = false;\r\n      setTitleError(\"Task title cannot be empty\");\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function setDateTime(dateTime) {\r\n    setDueDate(dateTime);\r\n  }\r\n\r\n  function handleTaskPriority(priority) {\r\n    setPriority(priority);\r\n  }\r\n\r\n  function handleTitleChange(title) {\r\n    setTitle(title);\r\n    processText(title);\r\n  }\r\n\r\n  function processText(input) {\r\n    const searchResult = exttime(input);\r\n    const tempTagList = [...tagList];\r\n    const category = constants.tagCategory.datetime;\r\n\r\n    const containsDateTimeTag = tempTagList.find(\r\n      (tag) => tag.category === constants.tagCategory.datetime\r\n    );\r\n\r\n    if (Array.isArray(searchResult) && searchResult.length > 0) {\r\n      if (containsDateTimeTag) {\r\n        const index = tempTagList.findIndex(\r\n          (tag) => tag.category === constants.tagCategory.datetime\r\n        );\r\n        index !== -1 && tempTagList.splice(index, 1);\r\n      }\r\n      let dateTime, matchedText;\r\n      // check if the sentence has more than one date-time part and then\r\n      // check if the user has chose to skip the previous results\r\n      if (searchResult.length > skipIndex) {\r\n        dateTime = searchResult[skipIndex].dateTime;\r\n        matchedText = searchResult[skipIndex].matchedText;\r\n      } else {\r\n        dateTime = searchResult[0].dateTime;\r\n        matchedText = searchResult[0].matchedText;\r\n        setSkipIndex(searchResult.length - 1);\r\n      }\r\n      tempTagList.push({\r\n        id: 1,\r\n        text: matchedText,\r\n        category: category,\r\n        datetime: dateTime,\r\n      });\r\n    } else if (containsDateTimeTag && searchResult.length === 0) {\r\n      const index = tempTagList.findIndex(\r\n        (tag) => tag.category === constants.tagCategory.datetime\r\n      );\r\n      index !== -1 && tempTagList.splice(index, 1);\r\n    }\r\n    setTagList(tempTagList);\r\n  }\r\n\r\n  function handleTagDelete(tagId) {\r\n    const tempTagList = [...tagList];\r\n    const index = tempTagList.findIndex((tag) => tag.id === tagId);\r\n    if (index !== -1) {\r\n      tempTagList.splice(index, 1);\r\n      setTagList(tempTagList);\r\n      setDueDate(new Date(constants.defaultDueDate));\r\n      setSkipIndex(skipIndex + 1);\r\n    }\r\n  }\r\n\r\n  return activated ? (\r\n    <div className=\"block\">\r\n      <div className=\"p-2 border-gray-light\">\r\n        <div className=\"field\">\r\n          <div className=\"control has-icons-left has-icons-right\">\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              placeholder=\"Bring milk and sweets\"\r\n              value={title}\r\n              onChange={(e) => handleTitleChange(e.target.value)}\r\n              onFocus={() => setTitleError(\"\")}\r\n            />\r\n            <span className=\"icon is-small is-left\">\r\n              <i className=\"fas fa-tasks\"></i>\r\n            </span>\r\n            <span className=\"icon is-small is-right\">\r\n              <i className=\"fas fa-check\"></i>\r\n            </span>\r\n          </div>\r\n          <p className=\"help is-danger\">{titleError}</p>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <textarea\r\n            className=\"textarea has-fixed-size\"\r\n            placeholder=\"Enter the task description here\"\r\n            rows=\"2\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div className=\"field columns is-mobile\">\r\n          <div className=\"column is-narrow pb-0\">\r\n            <DropDown\r\n              initialValue={priority}\r\n              handleValueChange={handleTaskPriority}\r\n              dropDownOptions={constants.selectPriority}\r\n            />\r\n          </div>\r\n          <div className=\"column pb-0\">\r\n            <div className=\"tags\">\r\n              {tagList.map((tag) => {\r\n                return (\r\n                  <span className=\"tag is-info is-light\" key={tag.id}>\r\n                    {tag.text}\r\n                    <button\r\n                      className=\"delete is-small\"\r\n                      onClick={() => handleTagDelete(tag.id)}\r\n                    ></button>\r\n                  </span>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"column is-narrow\">\r\n            <DateAndTimeSelector dateTime={dueDate} setDateTime={setDateTime} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-1\">\r\n        <FormButtons\r\n          button1Click={addTask}\r\n          button1Text={\"Add Task\"}\r\n          button2Click={handleFormClose}\r\n          button2Text={\"Cancel\"}\r\n        />\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"control pl-4\">\r\n      <button\r\n        className=\"button is-outlined is-success is-light is-fullwidth\"\r\n        onClick={() => setActivated(true)}\r\n      >\r\n        Add Task\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskForm;\r\n","import React, { useState } from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\n\r\nconst ProjectForm = ({ setActivated }) => {\r\n  const store = useTask();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [titleError, setTitleError] = useState(\"\");\r\n\r\n  function handleCloseForm() {\r\n    setTitle(\"\");\r\n    setTitleError(\"\");\r\n    setActivated(false);\r\n  }\r\n\r\n  async function handleAddProject() {\r\n    if (validateInput()) {\r\n      await store.addProject(title);\r\n      setActivated(false);\r\n    }\r\n  }\r\n\r\n  function validateInput() {\r\n    let result = true;\r\n    if (title.trim() === \"\") {\r\n      result = false;\r\n      setTitleError(\"project must have a name\");\r\n    }\r\n    return result;\r\n  }\r\n\r\n  return (\r\n    <form>\r\n      <div className=\"field\">\r\n        <input\r\n          className=\"input\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          id=\"title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          onFocus={() => setTitleError(\"\")}\r\n        />\r\n        <p className=\"help is-danger\">{titleError}</p>\r\n      </div>\r\n      <div className=\"field is-grouped\">\r\n        <div className=\"control\">\r\n          <div\r\n            className=\"button is-success is-light\"\r\n            onClick={async () => await handleAddProject()}\r\n          >\r\n            Add Project\r\n          </div>\r\n        </div>\r\n        <div className=\"control\" onClick={() => handleCloseForm()}>\r\n          <div className=\"button is-light is-info\">Cancel</div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProjectForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport { defaultProjects } from \"../Constants/constants\";\r\n\r\nconst DefaultProjectList = () => {\r\n  const store = useTask();\r\n  const [projects, setProjects] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (store.defaultProjects !== null) {\r\n      setProjects([...store.defaultProjects, ...defaultProjects]);\r\n    }\r\n    return () => {};\r\n  }, [store.defaultProjects, store.currentProject]);\r\n\r\n  function handleProjectClick(project) {\r\n    store.changeCurrentProject(project);\r\n  }\r\n\r\n  return (\r\n    <table className=\"table is-hoverable is-fullwidth\">\r\n      <tbody>\r\n        {store.currentProject &&\r\n          projects.map((project) => {\r\n            return (\r\n              <tr\r\n                key={project.id}\r\n                className={\r\n                  project.id === store.currentProject.id\r\n                    ? \"is-selected is-clickable\"\r\n                    : \"is-clickable\"\r\n                }\r\n                onClick={async () => handleProjectClick(project)}\r\n              >\r\n                <td>{project.title}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default DefaultProjectList;\r\n","import React, { useState } from \"react\";\r\nimport ProjectForm from \"./ProjectForm\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport DefaultProjectList from \"./DefaultProjectList\";\r\n\r\nfunction ProjectList() {\r\n  const store = useTask();\r\n  const [activated, setActivated] = useState(false);\r\n\r\n  async function handleChangeProject(project) {\r\n    await store.changeCurrentProject(project);\r\n  }\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <DefaultProjectList />\r\n      <table className=\"table is-hoverable is-fullwidth\">\r\n        <thead>\r\n          <tr>\r\n            <th>Projects</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {store.projects.map((project) => {\r\n            return (\r\n              <tr\r\n                key={project.id}\r\n                className={\r\n                  project.id === store.currentProject.id\r\n                    ? \"is-selected is-clickable\"\r\n                    : \"is-clickable\"\r\n                }\r\n                onClick={async () => await handleChangeProject(project)}\r\n              >\r\n                <td>{project.title}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div>\r\n        {activated ? (\r\n          <ProjectForm setActivated={setActivated} />\r\n        ) : (\r\n          <div\r\n            className=\"button is-light is-success is-outlined is-fullwidth\"\r\n            onClick={() => setActivated(!activated)}\r\n          >\r\n            Add Project\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProjectList;\r\n","import { Helmet } from \"react-helmet\";\r\nimport React from \"react\";\r\n\r\nconst Seo = () => {\r\n  const title = \"Karma\";\r\n  const description = \"A TODO App\";\r\n  //const keywords = [\"karma\", \"todo\", \"react\", \"app\", \"SPA\"];\r\n  return (\r\n    <Helmet>\r\n      <title>{title}</title>\r\n      <meta name=\"description\" content={description} />\r\n      <script\r\n        src=\"https://kit.fontawesome.com/cf77766bad.js\"\r\n        crossorigin=\"anonymous\"\r\n      ></script>\r\n    </Helmet>\r\n  );\r\n};\r\nexport default Seo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useGlobals } from \"../services/useGlobals\";\r\nimport DropDown from \"./DropDown\";\r\nimport DateAndTimeSelector from \"./DateAndTimeSelector\";\r\nimport * as constants from \"../Constants/constants\";\r\nimport FormButtons from \"./FormButtons\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport { formatRelative } from \"date-fns/esm\";\r\n\r\nconst TaskDetail = () => {\r\n  const globals = useGlobals();\r\n  const task = globals.detailTask;\r\n  const store = useTask();\r\n  // return prematurely if task is not defined\r\n\r\n  //form states\r\n  const [title, setTitle] = useState(task ? task.title : \"\");\r\n  const [description, setDescription] = useState(task ? task.description : \"\");\r\n  const [priority, setPriority] = useState(task ? task.priority : 1);\r\n  const [dueDate, setDueDate] = useState(task ? task.dueDate : null);\r\n  const [customDueDate, setCustomDueDate] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (globals.detailTask) {\r\n      const task = globals.detailTask;\r\n\r\n      setTitle(task.title);\r\n      setDescription(task.description);\r\n      setPriority(task.priority);\r\n      setDueDate(task.dueDate);\r\n    }\r\n    return () => {};\r\n  }, [globals.detailTask]);\r\n\r\n  function handleTaskPriority(priority) {\r\n    setPriority(priority);\r\n  }\r\n\r\n  async function handleSubmit() {\r\n    if (task) {\r\n      const newTask = {\r\n        title: title,\r\n        description: description,\r\n        dueDate: dueDate,\r\n        completed: false,\r\n        priority: priority,\r\n      };\r\n      await store.updateTask(task.id, newTask);\r\n    }\r\n    globals.deactivateTaskDetailModal();\r\n  }\r\n\r\n  function handleCancel() {\r\n    globals.deactivateTaskDetailModal();\r\n  }\r\n\r\n  return (\r\n    <div className={globals.taskDetailActivated ? \"modal is-active\" : \"modal\"}>\r\n      <div className=\"modal-background\" onClick={() => handleCancel()}></div>\r\n      {task && (\r\n        <div className=\"modal-content has-background-white-bis has-text-black-bis\">\r\n          <div className=\"section\">\r\n            <div className=\"field\">\r\n              <label className=\"label\">\r\n                <span className=\"icon\">\r\n                  <i className=\"fas fa-tasks\"></i>\r\n                </span>\r\n                <span>Task Title</span>\r\n              </label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"text\"\r\n                  placeholder=\"Do Laundry\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                />\r\n              </div>\r\n              <p className=\"help is-danger\"></p>\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <label className=\"label\">\r\n                <span className=\"icon\">\r\n                  <i className=\"fas fa-align-left\"></i>\r\n                </span>\r\n                <span>Task Description</span>\r\n              </label>\r\n              <div className=\"control\">\r\n                <textarea\r\n                  className=\"textarea\"\r\n                  placeholder=\"what are the steps to do laundry??? i need to google bro...\"\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"field\">\r\n              <div className=\"control\">\r\n                <strong>Due Date : </strong>\r\n                {formatRelative(task.dueDate, new Date())}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"field is-grouped\">\r\n              <DropDown\r\n                handleValueChange={handleTaskPriority}\r\n                initialValue={priority}\r\n                dropDownOptions={constants.selectPriority}\r\n              />\r\n              {!customDueDate ? (\r\n                <div className=\"field\">\r\n                  <div className=\"control\">\r\n                    <div\r\n                      className=\"button is-outlined is-info is-light\"\r\n                      onClick={() => setCustomDueDate(!customDueDate)}\r\n                    >\r\n                      Custom due date\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <DateAndTimeSelector\r\n                  dateTime={dueDate}\r\n                  setDateTime={setDueDate}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <FormButtons\r\n              button1Text={\"Update Task\"}\r\n              button2Text={\"Cancel\"}\r\n              button1Click={handleSubmit}\r\n              button2Click={handleCancel}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskDetail;\r\n","import React from \"react\";\r\nimport { useAuth } from \"../services/useAuth\";\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <section className=\"hero  is-fullheight-with-navbar\">\r\n      <div className=\"hero-head\"></div>\r\n\r\n      <div className=\"hero-body\">\r\n        <HomePageFront />\r\n      </div>\r\n\r\n      <div className=\"hero-foot pb-2 px-2\">\r\n        <div className=\"container\">\r\n          <nav className=\"level content\">\r\n            <div className=\"level-left\">\r\n              <p className=\"level-item\">KARMA &copy; 2021</p>\r\n            </div>\r\n            <div className=\"level-right\">\r\n              <p className=\"level-item\">FAQ</p>\r\n              <p className=\"level-item mr-1 mb-4\">Email Support</p>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n\r\nfunction HomePageFront() {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <div className=\"container has-text-centered\">\r\n      <p className=\"content\">\r\n        <span className=\"subtitle\">\r\n          A Minimalistic TODO App with powerfull features\r\n          <br />\r\n          Please <strong>SignUp</strong> or <strong>Log In</strong> to Continue\r\n        </span>\r\n      </p>\r\n      <div className=\"buttons\" style={{ justifyContent: \"center\" }}>\r\n        <button\r\n          className=\"button is-outlined is-success is-light\"\r\n          onClick={async () => await auth.signIn()}\r\n        >\r\n          Sign Up\r\n        </button>\r\n        <button\r\n          className=\"button is-outlined is-link is-light\"\r\n          onClick={async () => await auth.signIn()}\r\n        >\r\n          Log In\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nconst Toggler = ({ togglerOn, setTogglerOn }) => {\r\n  function handleTogglerClick() {\r\n    setTogglerOn(!togglerOn);\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={() => handleTogglerClick()}\r\n      className=\"toggler button is-light\"\r\n    >\r\n      <div\r\n        className={\r\n          togglerOn\r\n            ? \"toggler-circle toggler-on has-background-success\"\r\n            : \"toggler-circle has-background-grey\"\r\n        }\r\n      ></div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Toggler;\r\n","import React, { useState } from \"react\";\r\nimport Toggler from \"./Toggler\";\r\nimport { useTask } from \"../services/useTask\";\r\nimport { useGlobals } from \"../services/useGlobals\";\r\nimport { useLocation, withRouter } from \"react-router\";\r\n\r\nconst Settings = () => {\r\n  const [activated, setActivated] = useState(false);\r\n  const store = useTask();\r\n  const globals = useGlobals();\r\n\r\n  function handleCogClick() {\r\n    setActivated(!activated);\r\n  }\r\n\r\n  return (\r\n    <div className=\"mb-0 pb-0\">\r\n      <div className=\"level p-2 is-mobile\">\r\n        <div className=\"level-left\">\r\n          <div className=\"level-item is-size-4 is-uppercase has-text-weight-semibold\">\r\n            {store.currentProject ? store.currentProject.title : \"\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"level-right\">\r\n          <CalendarButton />\r\n          <div className=\"level-item\">\r\n            <button className=\"button\" onClick={() => handleCogClick()}>\r\n              <span className=\"icon\">\r\n                <i className=\"fas fa-cog\"></i>\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {activated && (\r\n        <div className=\"px-2\">\r\n          <div className=\"columns is-justify-content-space-between is-mobile\">\r\n            <div className=\"column is-narrow\">\r\n              <span>Show Completed Tasks</span>\r\n            </div>\r\n            <div className=\"column is-narrow\">\r\n              <Toggler\r\n                togglerOn={globals.showCompleted}\r\n                setTogglerOn={globals.setShowCompleted}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"columns is-justify-content-space-between is-mobile\">\r\n            <div className=\"column is-narrow\">\r\n              <span>Show Archived Tasks</span>\r\n            </div>\r\n            <div className=\"column is-narrow\">\r\n              <Toggler\r\n                togglerOn={globals.showArchived}\r\n                setTogglerOn={globals.setShowArchived}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CalendarButton = withRouter(({ history }) => {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <div className=\"level-item\">\r\n      <button\r\n        className=\"button\"\r\n        onClick={() =>\r\n          location.pathname === \"/karma/calendar-view\"\r\n            ? history.push(\"/karma\")\r\n            : history.push(\"/karma/calendar-view\")\r\n        }\r\n      >\r\n        Calendar\r\n      </button>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Settings;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { startOfMonth, getDaysInMonth, isSameDay } from \"date-fns\";\r\nimport { useTask } from \"../services/useTask\";\r\n\r\nconst Calendar = () => {\r\n  const calendarContainer = useRef(null);\r\n  let currentWidth = 0;\r\n  const [width, setWidth] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (calendarContainer && calendarContainer.current) {\r\n      setWidth(calendarContainer.current.clientWidth / 7);\r\n    }\r\n    return () => {};\r\n  }, [currentWidth]);\r\n\r\n  window.addEventListener(\"resize\", () => {\r\n    resized.bind(this);\r\n    resized();\r\n  });\r\n\r\n  function resized() {\r\n    currentWidth++;\r\n  }\r\n\r\n  function renderCells() {\r\n    const calRows = [];\r\n    const startDay = startOfMonth(new Date()).getDay();\r\n    const daysInLastMonth = getDaysInMonth(\r\n      new Date(new Date().getFullYear(), new Date().getMonth() - 1)\r\n    );\r\n    const daysInThisMonth = getDaysInMonth(new Date());\r\n\r\n    function getProperties(input) {\r\n      let displayValue = -2137821633;\r\n      let classNames = \"\";\r\n      let dateTime = new Date();\r\n      if (input < startDay) {\r\n        displayValue = daysInLastMonth - startDay + input + 1;\r\n        classNames = \"calBox-past\";\r\n        dateTime = new Date(\r\n          new Date().getFullYear(),\r\n          new Date().getMonth() - 1,\r\n          displayValue\r\n        );\r\n      } else if (input >= startDay && input < daysInThisMonth + startDay) {\r\n        displayValue = input - startDay + 1;\r\n        classNames = \"calBox\";\r\n        dateTime = new Date(\r\n          new Date().getFullYear(),\r\n          new Date().getMonth(),\r\n          displayValue\r\n        );\r\n      } else {\r\n        displayValue = input - (daysInThisMonth + startDay) + 1;\r\n        classNames = \"calBox-past\";\r\n        dateTime = new Date(\r\n          new Date().getFullYear(),\r\n          new Date().getMonth(),\r\n          displayValue\r\n        );\r\n      }\r\n\r\n      const retValues = {\r\n        displayValue,\r\n        classNames,\r\n        width: width,\r\n        dateTime,\r\n      };\r\n      return retValues;\r\n    }\r\n\r\n    for (let i = 0; i < 6; i++) {\r\n      const tempRow = [];\r\n      for (let j = 0; j < 7; j++) {\r\n        const calCells = (\r\n          <CalendarCells {...getProperties(i * 7 + j)} key={i * 7 + j} />\r\n        );\r\n        tempRow.push(calCells);\r\n      }\r\n      const calRow = (\r\n        <div className=\"columns is-mobile\" key={i}>\r\n          {tempRow}\r\n        </div>\r\n      );\r\n      calRows.push(calRow);\r\n    }\r\n    return <div>{calRows}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"columns is-flex-direction-column\" ref={calendarContainer}>\r\n      <CalendarWeekDays width={width} />\r\n      {renderCells()}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction CalendarCells({ displayValue, width, classNames, dateTime }) {\r\n  const store = useTask();\r\n  const [tasks, setTasks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let tempTasks = store.tasks.filter((task) =>\r\n      isSameDay(task.dueDate, dateTime)\r\n    );\r\n    setTasks(tempTasks);\r\n    return () => {};\r\n  }, [store.tasks, dateTime]);\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        isSameDay(new Date(), dateTime)\r\n          ? \"column m-1 has-background-warning-light \" + classNames\r\n          : \"column m-1 \" + classNames\r\n      }\r\n      style={{ height: width }}\r\n    >\r\n      <div>{displayValue}</div>\r\n      <div>\r\n        {tasks.map((task) => (\r\n          <div className=\"has-background-white-bis\" key={task.id}>\r\n            {task.title}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CalendarWeekDays({ width }) {\r\n  const weekDays = [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n  ];\r\n\r\n  return (\r\n    <div className=\"columns is-mobile\">\r\n      {weekDays.map((day) => (\r\n        <div\r\n          className=\"column has-text-centered \"\r\n          style={{ width: width }}\r\n          key={day}\r\n        >\r\n          {day}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Calendar;\r\n","import React from \"react\";\r\nimport \"./config/firebase.config\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport TaskList from \"./components/TaskList\";\r\nimport TaskForm from \"./components/TaskForm\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { TaskContextProvider } from \"./services/useTask\";\r\nimport ProjectList from \"./components/ProjectList\";\r\nimport Seo from \"./services/Seo\";\r\nimport TaskDetail from \"./components/TaskDetail\";\r\nimport { useAuth } from \"./services/useAuth\";\r\nimport HomePage from \"./components/HomePage\";\r\nimport \"./App.scss\";\r\nimport Settings from \"./components/Settings\";\r\nimport { useGlobals } from \"./services/useGlobals\";\r\nimport Calendar from \"./components/Calendar\";\r\n\r\nconst App = () => {\r\n  const auth = useAuth();\r\n  const globals = useGlobals();\r\n\r\n  return (\r\n    <Router>\r\n      <Seo />\r\n      <div>\r\n        <Navbar />\r\n      </div>\r\n\r\n      {auth.user ? (\r\n        <section className=\"section\">\r\n          <TaskContextProvider>\r\n            <TaskDetail />\r\n            <Switch>\r\n              <Route path=\"/karma/calendar-view\">\r\n                <div className=\"container mx-auto\">\r\n                  <div className=\"block\">\r\n                    <Settings />\r\n                  </div>\r\n                  <Calendar />\r\n                </div>\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <div className=\"columns container mx-auto\">\r\n                  <div\r\n                    className={\r\n                      globals.sideBarStatus\r\n                        ? \"column is-one-fifth has-display-none transition-all-1\"\r\n                        : \"column is-one-fifth transition-all-1\"\r\n                    }\r\n                  >\r\n                    <ProjectList />\r\n                  </div>\r\n                  <div className=\"column\">\r\n                    <Settings />\r\n                    <div className=\"block\">\r\n                      <TaskList />\r\n                    </div>\r\n                    <div className=\"block\">\r\n                      <TaskForm />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Route>\r\n            </Switch>\r\n          </TaskContextProvider>\r\n        </section>\r\n      ) : (\r\n        <div className=\"\">\r\n          <HomePage />\r\n        </div>\r\n      )}\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { AuthContextProvider } from \"./services/useAuth\";\r\nimport { GlobalContextProvider } from \"./services/useGlobals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalContextProvider>\r\n      <AuthContextProvider>\r\n        <App />\r\n      </AuthContextProvider>\r\n    </GlobalContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}