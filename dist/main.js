!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"pMap",(function(){return u})),r.d(e,"tMap",(function(){return d})),r.d(e,"IDcreator",(function(){return p}));const n=({title:t="task",dueDate:e="",completed:r=!1,priority:n=5,taskID:o=[p()],projectID:c=0,description:i=""}={})=>({title:t,dueDate:e,completed:r,priority:n,taskID:o,projectID:c,description:i,setTaskTitle(t){return this.title=t,this},getTaskTitle(){return this.title},setTaskID(t){return this.taskID=t,this},getTaskID(){return this.taskID},getProjectID(){return this.projectID},setProjectID(t){return this.projectID=t,this},setPriority(t){return this.priority=t,this},getPriority(){return this.priority},isCompleted(){return this.completed},completed(){return this.completed=!0,this},getDueDate(){return this.dueDate},setDueDate(t){return this.dueDate=t,this},setDescription(t){return this.description=t,this},getDescription(){return this.description}}),o=function(){let t=[];for(let[e,r]of u.entries())t.push([e,JSON.stringify(r)]);localStorage.setItem("pMap",JSON.stringify(t));let e=[];for(let[t,r]of d.entries())e.push([t,JSON.stringify(r)]);localStorage.setItem("tMap",JSON.stringify(e))},c=({title:t="new Project",projectID:e=[p()]}={})=>({title:t,projectID:e,getProjectID(){return this.projectID},setProjectID(t){return this.projectID=t,this},getProjectTitle(){return this.title},setProjectTitle(t){return this.title=t,this},addTask(t){let e;if(e=typeof t===Object?t.getTaskID():parseInt(e),d.has(e)){return d.get(e).setProjectID(this.projectID),o(),this}return!1},deleteTask:t=>!!d.has(t)&&(d.delete(t),o(),!0)}),i={controller:function(t,e){return"task"===t?(r=e,void(d.has(r)||console.error("non-existent task"))):"project"===t?projectModal(e):"create Task"===t?function(t){const e=document.querySelector(".modal-container");e.style.display="block";const r=document.forms.myForm;window.onclick=function(t){t.target==e&&(e.style.display="none")},r.addEventListener("submit",c=>function(){const c=r.elements.title.value,i=r.elements.priority.value,s=r.elements.dueDate.value,l=t,a=p(),u={title:c,projectID:l,taskID:a,priority:i,dueDate:s},f=Object.assign(n(),u);d.set(a,f),o(),e.style.display="none"}()),a.listTaskInProject(t)}(e):void 0;var r}},s={handleProjectClick:function(t,e){a.listTaskInProject(t)},handleTaskClick:function(t,e){i.controller("task",t)},createTaskClick:function(t,e){i.controller("create Task",t)},createProjectClick:function(t){let e=c(),r=p(),n=prompt("enter the project title");null!==n&&""!==n?(e.setProjectTitle(n),e.setProjectID(r),u.set(r,e),o(),a.listProject()):console.warn("empty project title")},changePriority:function(t){const e=d.get(t),r=prompt("Change the priorirty");if(""!=r&&null!=r){e.setPriority(r),o();const t=e.getProjectID();a.listTaskInProject(t)}},changeDueDate:function(t){const e=d.get(t),r=prompt("Change the due date");if(""!=r&&null!=r){e.setDueDate(r),o();const t=e.getProjectID();a.listTaskInProject(t)}},changeTitle:function(t){const e=d.get(t),r=prompt("Change the task title");if(""!=r&&null!=r){e.setTaskTitle(r),o();const t=e.getProjectID();a.listTaskInProject(t)}},deleteTask:function(t){if(window.confirm("delete task?")){const e=d.get(t),r=u.get(e.getProjectID());r.deleteTask(t),o(),a.listTaskInProject(r.getProjectID())}},deleteProject:function(t){if(window.confirm("DELETE PROJECT? This will delete all your tasks!!!")){u.delete(t);for(let[e,r]of d.entries())r.getProjectID()===t&&d.delete(e);o(),a.listProject(),a.listTaskInProject(0)}}},l=function(){const t=function(t){if(d.has(t)){const e=d.get(t),r=document.createElement("div"),n=document.createElement("div");n.classList.add("task-header"),n.innerHTML="priority  : "+e.getPriority();const o=document.createElement("div");o.classList.add("task-main"),o.innerHTML=""+e.getTaskTitle();const c=document.createElement("button");c.classList.add("delete-button"),c.addEventListener("click",()=>s.deleteTask(t)),c.innerHTML="X",o.appendChild(c);const i=document.createElement("div");return i.classList.add("task-footer"),i.innerHTML="Due Date : "+e.getDueDate(),r.appendChild(n),r.appendChild(o),r.appendChild(i),r.classList.add("task"),r.setAttribute("id","task"+t),r.addEventListener("click",e=>s.handleTaskClick(t,e)),r}return document.createElement("div")};return{controller:function(e,r){return"task"===e?t(r):"project"===e?function(t){const e=u.get(t),r=document.createElement("div");r.innerHTML=""+e.title,r.classList.add("project"),r.setAttribute("id","project"+t);const n=document.createElement("button");n.classList.add("delete-button"),0!==t&&(n.addEventListener("click",()=>s.deleteProject(t)),n.innerHTML="X",r.appendChild(n));return r.addEventListener("click",e=>s.handleProjectClick(t)),r}(r):"create project"==e?function(){const t=document.createElement("div");return t.classList.add("project"),t.style.backgroundColor="rgba(110, 95, 207, 0.8)",t.style.color="white",t.innerHTML="Add a new Project",t.setAttribute("id",""),t.addEventListener("click",t=>s.createProjectClick(t)),t}():"create task"==e?function(t){const e=document.createElement("div");return e.classList.add("task"),e.style.backgroundColor="rgba(110, 95, 207, 0.8)",e.style.color="white",e.innerHTML="Add a new Task",e.setAttribute("id","project"+t),e.addEventListener("click",e=>s.createTaskClick(t,e)),e}(r):void 0}}}(),a=function(){const t=document.querySelector(".left-nav"),e=document.querySelector(".main");return{listProject:function(){document.querySelectorAll(".project").forEach(e=>t.removeChild(e));for(let[e,r]of u.entries()){const r=l.controller("project",e);t.appendChild(r)}const e=l.controller("create project");t.appendChild(e)},listTaskInProject:function(t){document.querySelectorAll(".task").forEach(t=>e.removeChild(t)),document.querySelector("#project-title").innerHTML="Project : "+u.get(t).getProjectTitle();for(let r of d.keys()){let n=d.get(r);if(parseInt(n.projectID)==t){const t=l.controller("task",parseInt(r));e.appendChild(t)}}const r=l.controller("create task",t);e.appendChild(r)}}}(),u=new Map,d=new Map,p=function(){let t=0;return localStorage.getItem("count")?t=localStorage.getItem("count"):(t=0,localStorage.setItem("count",0)),()=>(t++,localStorage.setItem("count",t),t)}();function f(){!function(){u.clear();let t=JSON.parse(localStorage.getItem("pMap"));for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)try{const r=t[e][0],n=Object.assign(c(),JSON.parse(t[e][1]));u.set(r,n)}catch(t){console.log(t)}if(d.clear(),localStorage.getItem("tMap")){let t=JSON.parse(localStorage.getItem("tMap"));for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)try{const r=t[e][0],o=Object.assign(n(),JSON.parse(t[e][1]));d.set(r,o)}catch(t){console.error(t)}}}(),a.listProject(),a.listTaskInProject(0)}localStorage.getItem("pMap")||localStorage.getItem("tMap")||function(){const t=c();t.setProjectID(0),t.setProjectTitle("INBOX"),u.set(0,t),o()}(),f()}]);